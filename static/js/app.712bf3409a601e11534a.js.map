{"version":3,"sources":["webpack:///./src/router/aliases.js","webpack:///./config/i18n.config.js","webpack:///./locales/en.json","webpack:///./src/i18n.js","webpack:///./src/components/models/Hostings.js","webpack:///./src/components/models/PryvServiceExtension.js","webpack:///./src/context.js","webpack:///src/App.vue","webpack:///./src/App.vue?feca","webpack:///./src/App.vue","webpack:///src/components/views/bits/Password.vue","webpack:///./src/components/views/bits/Password.vue?76f5","webpack:///./src/components/views/bits/Password.vue","webpack:///src/components/views/bits/Alerts.vue","webpack:///./src/components/views/bits/Alerts.vue?d537","webpack:///./src/components/views/bits/Alerts.vue","webpack:///./src/components/models/AppError.js","webpack:///./src/components/controller/ops/close_or_redirect.js","webpack:///./src/components/controller/ops/accept_access.js","webpack:///./src/components/models/AccessStates.js","webpack:///./src/components/controller/ops/check_username.js","webpack:///./src/components/controller/ops/reset_password.js","webpack:///./src/components/controller/ops/change_password.js","webpack:///./src/components/controller/ops/check_access.js","webpack:///./src/components/controller/ops/create_user.js","webpack:///./src/components/controller/ops/load_hostings.js","webpack:///./src/components/controller/ops/login.js","webpack:///./src/components/controller/ops/refuse_access.js","webpack:///./src/components/controller/ops/request_reset_password.js","webpack:///./src/components/controller/ops/get_service_info.js","webpack:///./src/components/controller/ops/mfa_verify.js","webpack:///./src/components/controller/controller.js","webpack:///src/components/views/RegisterUser.vue","webpack:///./src/components/views/RegisterUser.vue?006c","webpack:///./src/components/views/RegisterUser.vue","webpack:///src/components/views/ResetPassword.vue","webpack:///./src/components/views/ResetPassword.vue?3ef0","webpack:///./src/components/views/ResetPassword.vue","webpack:///src/components/views/bits/Permissions.vue","webpack:///./src/components/views/bits/Permissions.vue?2892","webpack:///src/components/views/Authorization.vue","webpack:///./src/components/views/bits/Permissions.vue","webpack:///./src/components/views/Authorization.vue?6a3c","webpack:///./src/components/views/Authorization.vue","webpack:///./src/components/views/PageNotFound.vue?80f4","webpack:///./src/components/views/PageNotFound.vue","webpack:///src/components/views/SigninHub.vue","webpack:///./src/components/views/SigninHub.vue?5f95","webpack:///./src/components/views/SigninHub.vue","webpack:///src/components/views/ChangePassword.vue","webpack:///./src/components/views/ChangePassword.vue?6e2c","webpack:///./src/components/views/ChangePassword.vue","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./locales/fr.json","webpack:///./src/defaults.js","webpack:///./locales [A-Za-z0-9-_,\\s]+\\.json$/","webpack:///./node_modules/pryv/package.json"],"names":["module","exports","basePath","pages","index","auth","register","reset","signin","changepass","locale","navigator","language","split","fallbackLocale","enableInSFC","lang","global","requiredField","signinHub","title","userNameOrEmail","goToHomePage","signupMsg","resetPassword","newPassword","newPasswordConfirmation","goToSignIn","setNewPassword","defineNewPassword","requestPasswordReset","requestPasswordResetSuccess","resetPasswordSuccess","password","passwordRename","passwordConfirmation","passwordIsRequired","passwordConfirmationNotMatch","changePassword","requestPasswordChange","changePasswordSuccess","registerUser","email","emailPlaceholder","username","hosting","hostingPlaceholder","clear","create","registerSuccess","pageNotFound","content","locales","messages","config","require","Vue","use","VueI18n","i18n","keys","forEach","key","matched","match","length","Hostings","hostingsData","_this","this","classCallCheck_default","selection","regions","Object","regionKey","zones","zoneKey","hostings","hostingKey","info","name","description","push","value","text","availableCore","url","isFirstVersionIsEqualOrHigher","version1","version2","version1parts","version2parts","i","Pryv","Service","prototype","apiEndpointForSync","token","buildAPIEndpoint","infoSync","mfaChallenge","_ref","asyncToGenerator_default","regenerator_default","a","mark","_callee","mfaToken","wrap","_context","prev","next","utils","superagent","post","set","send","stop","_x","_x2","apply","arguments","mfaVerify","_ref2","_callee2","code","res","_context2","sent","abrupt","body","_x3","_x4","_x5","checkAppAccess","_ref3","_callee3","personalToken","checkAppData","_context3","_x6","_x7","_x8","createAppAccess","_ref4","_callee4","requestData","_context4","access","_x9","_x10","_x11","deleteAppAccess","_ref5","_callee5","accessId","_context5","delete","id","accessDeletion","_x12","_x13","_x14","getAvailableHostings","_ref6","_callee6","_context6","get","createUser","_ref7","_callee7","appId","invitation","referer","platformVersion","_context7","version","resolve","invitationToken","appid","languageCode","invitationtoken","_x15","_x16","_x17","_x18","_x19","_x20","_x21","_x22","_x23","checkUsernameExistence","_ref8","_callee8","_context8","server","_x24","getUsernameForEmail","_ref9","_callee9","usernameOrEmail","_context9","search","uid","_x25","_ref10","_callee10","_context10","status","_x26","_x27","_ref11","_callee11","resetToken","_context11","_x28","_x29","_x30","_x31","_ref12","_callee12","oldPassword","_context12","_x32","_x33","_x34","_x35","loginWithThrow","_ref13","_callee13","originHeader","apiEndpoint","headers","errBody","_e","_context13","apiEndpointFor","accept","t0","isBrowser","Origin","Error","t1","Connection","t2","t3","t4","t5","t6","call","t7","t8","response","error","message","e","_x36","_x37","_x38","_x39","Context","queryParams","pollUrl","poll","oauthState","accessState","oaccessState","isAccessRequest","pryvService","serviceInfoUrl","pryvServiceInfoUrl","defaults","DNSLess","URL","window","location","href","hostname","slice","join","defaultPryvServiceInfoUrl","user","checkAppResult","initialized","loadAccessState","setServiceInfo","serviceInfo","_","merge","console","log","returnURL","App","data","logoSrcUrl","errorCaptured","err","vm","alert","created","assets","ctx","context","$route","query","init","setAllDefaults","relativeURL","_assets","logo","selectortype_template_index_0_src_App","render","_h","$createElement","_c","_self","attrs","_m","_v","src","height","staticRenderFns","rel","src_App","__webpack_require__","normalizeComponent","ssrContext","Password","props","confirmation","type","Boolean","default","String","labelPassword","src_i18n","t","labelPasswordConfirmation","visiblePass","repass","rules","required","computed","matchPassword","bits_Password","_vm","appendIcon","label","on","input","$event","$emit","click:append","model","callback","$$v","expression","views_bits_Password","Password_normalizeComponent","Alerts","errorMsg","successMsg","alertMsg","alertType","bits_Alerts","staticClass","transition","domProps","innerHTML","_s","views_bits_Alerts","Alerts_normalizeComponent","AppError","msg","parseError","unexpectedError","errorData","encapsulatedError","parseErrorData","subErrors","errors","parseSubErrors","Array","isArray","parseValidationSubErrors","subErrorMsg","subError","detail","closeOrRedirect","returnUrl","endsWith","pollKey","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","entries","Symbol","iterator","done","slicedToArray_default","val","return","close","acceptAccess","appAccess","acceptedState","mismatchingAccess","permissions","checkedPermissions","requestingAppId","updateAccessState","checkUsername","checkAccess","showPermissions","checkData","matchingAccess","requestedPermissions","newUser","loadHostings","hostingsSelection","getSelection","login","pryvConnection","refuseAccess","refusedState","reasonId","finish","requestResetPassword","getServiceInfo","tryAndCatch","fun","_len","args","_key","concat","toConsumableArray_default","controllerFactory","RegisterUser","components","submitting","c","success","validForm","controller","then","initHostings","catch","showError","methods","submit","$refs","form","validate","generateRandomEmailIfNeeded","finally","result","characters","charactersLength","charAt","Math","floor","random","randomUsername","views_RegisterUser","$t","ref","preventDefault","placeholder","$set","items","disabled","click","target","to","components_views_RegisterUser","RegisterUser_normalizeComponent","ResetPassword","showForm","pageTitle","buttonText","trim","views_ResetPassword","components_views_ResetPassword","ResetPassword_normalizeComponent","Permissions","dialog","consentMsg","clientData","marked_default","accessMismatch","expire","expireAfter","closeDialog","acceptOrReject","bits_Permissions","width","persistent","staticStyle","text-align","_l","permission","level","toLowerCase","streamId","defaultName","Authorization","Permissions_normalizeComponent","mfaCode","serviceInfos","test","mfaActivated","showInfos","handleMFA","refuse","infos","views_Authorization","accepted","refused","support","components_views_Authorization","Authorization_normalizeComponent","PageNotFound","views_PageNotFound","PageNotFound_normalizeComponent","SigninHub","toMyPryv","views_SigninHub","serviceName","components_views_SigninHub","SigninHub_normalizeComponent","ChangePassword","views_ChangePassword","components_views_ChangePassword","ChangePassword_normalizeComponent","VueRouter","path","document","pathname","substring","lastIndexOf","Aliases","Router","mode","base","routes","redirect","component","alias","route","hasQueryParams","beforeEach","from","Vuetify","productionTip","el","router","template","map","./en.json","./fr.json","webpackContext","req","webpackContextResolve","homepage","keywords","repository","bugs","author","main","license","scripts","setup","build","doc","test-debug","test:browser","cover","cover:report","webserver","gh-pages","contributors","dependencies","devDependencies","@pryv/lib-js-common","@pryv/monitor","@pryv/socket.io","chai","chai-as-promised","cuid","jsdoc","mocha","node-fetch","nyc","rec-la","universal-url","zombie"],"mappings":"uCAIAA,EAAOC,SACLC,SAAU,SACVC,OACEC,MAAO,cACPC,KAAM,eACNC,SAAU,iBACVC,MAAO,uBACPC,OAAQ,kBACRC,WAAY,qECZhBT,EAAAC,SACAS,OAAAC,UAAAC,SAAAC,MAAA,QACAC,eAAA,KACAC,aAAA,uBCHAf,EAAAC,SAAkBe,KAAA,UAAAC,QAA2BC,cAAA,2BAA0CC,WAAcC,MAAA,aAAAC,gBAAA,oBAAAC,aAAA,oBAAAC,UAAA,4CAAqJC,eAAkBJ,MAAA,iBAAAC,gBAAA,oBAAAI,YAAA,eAAAC,wBAAA,4BAAAC,WAAA,gBAAAC,eAAA,qBAAAJ,cAAA,iBAAAK,kBAAA,sBAAAC,qBAAA,yBAAAC,4BAAA,mEAAAC,qBAAA,iDAAwfC,UAAaA,SAAA,WAAAC,eAAA,aAAkDC,qBAAA,yCAAAC,mBAAA,wBAAAC,6BAAA,yCAAsLC,gBAAmBlB,MAAA,kBAAAC,gBAAA,oBAAAkB,sBAAA,0BAAAC,sBAAA,+CAAAf,YAAA,eAAAC,wBAAA,6BAA4Qe,cAAiBrB,MAAA,sBAAAsB,MAAA,SAAAC,iBAAA,yCAAAC,SAAA,WAAAC,QAAA,UAAAC,mBAAA,oBAAAC,MAAA,QAAAC,OAAA,SAAArB,WAAA,gBAAAsB,gBAAA,8CAA4TC,cAAiB9B,MAAA,uBAAA+B,QAAA,sLCc9mDC,EACAC,0BAZFC,EAASC,EAAQ,QAEvBC,UAAIC,IAAIC,KAqBOC,MAnBF,IAAID,KACfhD,OAAQ4C,EAAO5C,QAAU,KACzBI,eAAgBwC,EAAOxC,gBAAkB,KACzCuC,UAIMD,EAAUG,UACVF,KACND,EAAQQ,OAAOC,QAAQ,SAAAC,GACrB,IAAMC,EAAUD,EAAIE,MAAM,uBAC1B,GAAID,GAAWA,EAAQE,OAAS,EAAG,CACjC,IAAMvD,EAASqD,EAAQ,GACvBV,EAAS3C,GAAU0C,EAAQU,MAGxBT,8GCkEMa,aA7Bb,SAAAA,EAAaC,GAAiC,IAAAC,EAAAC,KAAAC,IAAAD,KAAAH,GAC5CG,KAAKE,aACL,IAAMC,EAAUL,EAAaK,QAC7BC,OAAOb,KAAKY,GAASX,QAAQ,SAAAa,GAC3B,IACMC,EADSH,EAAQE,GACFC,MACrBF,OAAOb,KAAKe,GAAOd,QAAQ,SAAAe,GACzB,IACMC,EADOF,EAAMC,GACGC,SACtBJ,OAAOb,KAAKiB,GAAUhB,QAAQ,SAAAiB,GAC5B,IAAMjC,EAAUgC,EAASC,GACrBC,EAAOlC,EAAQmC,MAAQF,EACA,MAAvBjC,EAAQoC,cAAqBF,EAAUA,EAAV,KAAmBlC,EAAQoC,YAA3B,KACjCb,EAAKG,UAAUW,MACbC,MAAOL,EACPM,KAAML,EACNE,YAAapC,EAAQoC,YACrBI,cAAexC,EAAQwC,yEAQ/B,OAAOhB,KAAKE,mBCjFVe,EAAM/B,EAAQ,QAkIpB,SAASgC,EAA+BC,EAAkBC,GAKxD,IAJA,IAAMC,EAAgBF,EAAS3E,MAAM,KAC/B8E,EAAgBF,EAAS5E,MAAM,KAG5B+E,EAAI,EAAGA,EAAIF,EAAczB,SAAU2B,EAAG,CAE7C,GAAIF,EAAcE,KAAOD,EAAcC,GAOhC,OAAIF,EAAcE,GAAKD,EAAcC,GAL1C,GAAID,EAAc1B,SAAY2B,EAAI,EAChC,OAAO,EAUb,OAAO,EAnFTC,IAAKC,QAAQC,UAAUC,mBAAqB,SAA6BpD,EAAUqD,GACjF,OAAOJ,IAAKC,QAAQI,iBAAiB7B,KAAK8B,WAAYvD,EAAUqD,IAIlEJ,IAAKC,QAAQC,UAAUK,aAAvB,eAAAC,EAAAC,IAAAC,EAAAC,EAAAC,KAAsC,SAAAC,EAA6B9D,EAAkB+D,GAA/C,OAAAJ,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EAC9BlB,IAAKmB,MAAMC,WACdC,KAAK7C,KAAK2B,mBAAmBpD,GAAY,iBACzCuE,IAAI,SAAU,QACdA,IAAI,gBAAiBR,GACrBS,SALiC,wBAAAP,EAAAQ,SAAAX,EAAArC,SAAtC,gBAAAiD,EAAAC,GAAA,OAAAlB,EAAAmB,MAAAnD,KAAAoD,YAAA,GASA5B,IAAKC,QAAQC,UAAU2B,UAAvB,eAAAC,EAAArB,IAAAC,EAAAC,EAAAC,KAAmC,SAAAmB,EAA0BhF,EAAkB+D,EAAkBkB,GAA9D,IAAAC,EAAA,OAAAvB,EAAAC,EAAAI,KAAA,SAAAmB,GAAA,cAAAA,EAAAjB,KAAAiB,EAAAhB,MAAA,cAAAgB,EAAAhB,KAAA,EACflB,IAAKmB,MAAMC,WAC1BC,KAAK7C,KAAK2B,mBAAmBpD,GAAY,cACzCuE,IAAI,SAAU,QACdA,IAAI,gBAAiBR,GACrBS,MAAOS,KAAMA,IALiB,cAC3BC,EAD2BC,EAAAC,KAAAD,EAAAE,OAAA,SAM1BH,EAAII,KAAKjC,OANiB,wBAAA8B,EAAAV,SAAAO,EAAAvD,SAAnC,gBAAA8D,EAAAC,EAAAC,GAAA,OAAAV,EAAAH,MAAAnD,KAAAoD,YAAA,GAcA5B,IAAKC,QAAQC,UAAUuC,eAAvB,eAAAC,EAAAjC,IAAAC,EAAAC,EAAAC,KAAwC,SAAA+B,EAA+B5F,EACrE6F,EAAuBC,GADe,IAAAZ,EAAA,OAAAvB,EAAAC,EAAAI,KAAA,SAAA+B,GAAA,cAAAA,EAAA7B,KAAA6B,EAAA5B,MAAA,cAAA4B,EAAA5B,KAAA,EAEpBlB,IAAKmB,MAAMC,WAC1BC,KAAK7C,KAAK2B,mBAAmBpD,GAAY,sBACzCuE,IAAI,SAAU,QACdA,IAAI,gBAAiBsB,GACrBrB,KAAKsB,GAN8B,cAEhCZ,EAFgCa,EAAAX,KAAAW,EAAAV,OAAA,SAO/BH,EAAII,MAP2B,wBAAAS,EAAAtB,SAAAmB,EAAAnE,SAAxC,gBAAAuE,EAAAC,EAAAC,GAAA,OAAAP,EAAAf,MAAAnD,KAAAoD,YAAA,GAWA5B,IAAKC,QAAQC,UAAUgD,gBAAvB,eAAAC,EAAA1C,IAAAC,EAAAC,EAAAC,KAAyC,SAAAwC,EACvCrG,EAAkB6F,EAClBS,GAFuC,IAAApB,EAAA,OAAAvB,EAAAC,EAAAI,KAAA,SAAAuC,GAAA,cAAAA,EAAArC,KAAAqC,EAAApC,MAAA,cAAAoC,EAAApC,KAAA,EAGrBlB,IAAKmB,MAAMC,WAC1BC,KAAK7C,KAAK2B,mBAAmBpD,GAAY,YACzCuE,IAAI,SAAU,QACdA,IAAI,gBAAiBsB,GACrBrB,KAAK8B,GAP+B,cAGjCpB,EAHiCqB,EAAAnB,KAAAmB,EAAAlB,OAAA,SAQhCH,EAAII,KAAKkB,QARuB,wBAAAD,EAAA9B,SAAA4B,EAAA5E,SAAzC,gBAAAgF,EAAAC,EAAAC,GAAA,OAAAP,EAAAxB,MAAAnD,KAAAoD,YAAA,GAYA5B,IAAKC,QAAQC,UAAUyD,gBAAvB,eAAAC,EAAAnD,IAAAC,EAAAC,EAAAC,KAAyC,SAAAiD,EACvC9G,EAAkB6F,EAClBkB,GAFuC,IAAA7B,EAAA,OAAAvB,EAAAC,EAAAI,KAAA,SAAAgD,GAAA,cAAAA,EAAA9C,KAAA8C,EAAA7C,MAAA,cAAA6C,EAAA7C,KAAA,EAGrBlB,IAAKmB,MAAMC,WAC1B4C,OAAOxF,KAAK2B,mBAAmBpD,GAAY,YAAc+G,GACzDxC,IAAI,SAAU,QACdA,IAAI,gBAAiBsB,GACrBrB,MAAM0C,GAAIH,IAP0B,cAGjC7B,EAHiC8B,EAAA5B,KAAA4B,EAAA3B,OAAA,SAQhCH,EAAII,KAAK6B,gBARuB,wBAAAH,EAAAvC,SAAAqC,EAAArF,SAAzC,gBAAA2F,EAAAC,EAAAC,GAAA,OAAAT,EAAAjC,MAAAnD,KAAAoD,YAAA,GAoCA5B,IAAKC,QAAQC,UAAUoE,qBAAvB,eAAAC,EAAA9D,IAAAC,EAAAC,EAAAC,KAA8C,SAAA4D,IAAA,IAAAvC,EAAA,OAAAvB,EAAAC,EAAAI,KAAA,SAAA0D,GAAA,cAAAA,EAAAxD,KAAAwD,EAAAvD,MAAA,cAAAuD,EAAAvD,KAAA,EAC1BlB,IAAKmB,MAAMC,WAC1BsD,IAAIlG,KAAK8B,WAAW7F,SAAW,YAC/B6G,IAAI,SAAU,QAH2B,cACtCW,EADsCwC,EAAAtC,KAAAsC,EAAArC,OAAA,SAIrC,IAAI/D,EAAS4D,EAAII,OAJoB,wBAAAoC,EAAAjD,SAAAgD,EAAAhG,SAA9C,yBAAA+F,EAAA5C,MAAAnD,KAAAoD,YAAA,GAQA5B,IAAKC,QAAQC,UAAUyE,WAAvB,eAAAC,EAAAnE,IAAAC,EAAAC,EAAAC,KAAoC,SAAAiE,EAClCrF,EACAzC,EACAX,EAAkBS,EAClBG,EAAiB7B,EAAc2J,EAC/BC,EAAqBC,GALa,IAAAC,EAAAhD,EAAA,OAAAvB,EAAAC,EAAAI,KAAA,SAAAmE,GAAA,cAAAA,EAAAjE,KAAAiE,EAAAhE,MAAA,UAM5B+D,EAAkBzG,KAAK8B,WAAW6E,QACpClD,OAP8B,GAQ9BgD,IAAmBvF,EAA8BuF,EAAiB,SARpC,CAAAC,EAAAhE,KAAA,eAAAgE,EAAAhE,KAAA,EASpBlB,IAAKmB,MAAMC,WACpBC,KAAK5B,EAAI2F,QAAQ5F,EAAe,UAChC8B,IAAI,SAAU,QACdC,MACCuD,MAAOA,EACP/H,SAAUA,EACVX,SAAUA,EACVS,MAAOA,EACPG,QAASA,EACTjC,SAAUI,GAAQ,KAClBkK,gBAAiBN,GAAc,QAC/BC,QAASA,IApBmB,OAShC/C,EATgCiD,EAAA/C,KAAA+C,EAAAhE,KAAA,uBAAAgE,EAAAhE,KAAA,GAuBpBlB,IAAKmB,MAAMC,WACpBC,KAAK7C,KAAK8B,WAAW7F,SAAW,QAChC6G,IAAI,SAAU,QACdC,MACC+D,MAAOR,EACP/H,SAAUA,EACVX,SAAUA,EACVS,MAAOA,EACPG,QAASA,EACTuI,aAAcpK,GAAQ,KACtBqK,gBAAiBT,GAAc,QAC/BC,QAASA,IAlCmB,QAuBhC/C,EAvBgCiD,EAAA/C,KAAA,eAAA+C,EAAA9C,OAAA,SAsC3BH,EAAII,MAtCuB,yBAAA6C,EAAA1D,SAAAqD,EAAArG,SAApC,gBAAAiH,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,OAAArB,EAAAjD,MAAAnD,KAAAoD,YAAA,GAyCA5B,IAAKC,QAAQC,UAAUgG,uBAAvB,eAAAC,EAAA1F,IAAAC,EAAAC,EAAAC,KAAgD,SAAAwF,EAAuCrJ,GAAvC,IAAAkF,EAAA,OAAAvB,EAAAC,EAAAI,KAAA,SAAAsF,GAAA,cAAAA,EAAApF,KAAAoF,EAAAnF,MAAA,cAAAmF,EAAAnF,KAAA,EAC5BlB,IAAKmB,MAAMC,WAC1BC,KAAK7C,KAAK8B,WAAW7F,SAAWsC,EAAW,WAC3CuE,IAAI,SAAU,QAAQC,SAHqB,cACxCU,EADwCoE,EAAAlE,KAAAkE,EAAAjE,OAAA,SAIvCH,EAAII,KAAKiE,QAJ8B,wBAAAD,EAAA7E,SAAA4E,EAAA5H,SAAhD,gBAAA+H,GAAA,OAAAJ,EAAAxE,MAAAnD,KAAAoD,YAAA,GAQA5B,IAAKC,QAAQC,UAAUsG,oBAAvB,eAAAC,EAAAhG,IAAAC,EAAAC,EAAAC,KAA6C,SAAA8F,EAAoCC,GAApC,IAAA1E,EAAA,OAAAvB,EAAAC,EAAAI,KAAA,SAAA6F,GAAA,cAAAA,EAAA3F,KAAA2F,EAAA1F,MAAA,YACvCyF,EAAgBE,OAAO,KAAO,GADS,CAAAD,EAAA1F,KAAA,eAAA0F,EAAAxE,OAAA,SAElCuE,GAFkC,cAAAC,EAAA1F,KAAA,EAIzBlB,IAAKmB,MAAMC,WAC1BsD,IAAIlG,KAAK8B,WAAW7F,SAAWkM,EAAkB,QACjDrF,IAAI,SAAU,QAN0B,cAIrCW,EAJqC2E,EAAAzE,KAAAyE,EAAAxE,OAAA,SAOpCH,EAAII,KAAKyE,KAP2B,wBAAAF,EAAApF,SAAAkF,EAAAlI,SAA7C,gBAAAuI,GAAA,OAAAN,EAAA9E,MAAAnD,KAAAoD,YAAA,GAaA5B,IAAKC,QAAQC,UAAUjE,qBAAvB,eAAA+K,EAAAvG,IAAAC,EAAAC,EAAAC,KAA8C,SAAAqG,EAAqClK,EAAkB+H,GAAvD,IAAA7C,EAAA,OAAAvB,EAAAC,EAAAI,KAAA,SAAAmG,GAAA,cAAAA,EAAAjG,KAAAiG,EAAAhG,MAAA,cAAAgG,EAAAhG,KAAA,EAC1BlB,IAAKmB,MAAMC,WAC1BC,KAAK7C,KAAK2B,mBAAmBpD,GAAY,kCACzCuE,IAAI,SAAU,QACdC,MACCuD,MAAOA,EACP/H,SAAUA,IAN8B,cACtCkF,EADsCiF,EAAA/E,KAAA+E,EAAA9E,OAAA,SAQrCH,EAAIkF,QARiC,wBAAAD,EAAA1F,SAAAyF,EAAAzI,SAA9C,gBAAA4I,EAAAC,GAAA,OAAAL,EAAArF,MAAAnD,KAAAoD,YAAA,GAYA5B,IAAKC,QAAQC,UAAUvE,cAAvB,eAAA2L,EAAA7G,IAAAC,EAAAC,EAAAC,KAAuC,SAAA2G,EAA8BxK,EACnEnB,EACA4L,EACA1C,GAHqC,IAAA7C,EAAA,OAAAvB,EAAAC,EAAAI,KAAA,SAAA0G,GAAA,cAAAA,EAAAxG,KAAAwG,EAAAvG,MAAA,cAAAuG,EAAAvG,KAAA,EAInBlB,IAAKmB,MAAMC,WAC1BC,KAAK7C,KAAK2B,mBAAmBpD,GAAY,0BACzCuE,IAAI,SAAU,QACdC,MACCxE,SAAUA,EACVnB,YAAaA,EACbkJ,MAAOA,EACP0C,WAAYA,IAXqB,cAI/BvF,EAJ+BwF,EAAAtF,KAAAsF,EAAArF,OAAA,SAa9BH,EAAIkF,QAb0B,wBAAAM,EAAAjG,SAAA+F,EAAA/I,SAAvC,gBAAAkJ,EAAAC,EAAAC,EAAAC,GAAA,OAAAP,EAAA3F,MAAAnD,KAAAoD,YAAA,GAgBA5B,IAAKC,QAAQC,UAAUzD,eAAvB,eAAAqL,EAAArH,IAAAC,EAAAC,EAAAC,KAAwC,SAAAmH,EACtChL,EACAiL,EACApM,EACAgH,GAJsC,IAAAX,EAAA,OAAAvB,EAAAC,EAAAI,KAAA,SAAAkH,GAAA,cAAAA,EAAAhH,KAAAgH,EAAA/G,MAAA,cAAA+G,EAAA/G,KAAA,EAKpBlB,IAAKmB,MAAMC,WAC1BC,KAAK7C,KAAK2B,mBAAmBpD,GAAY,2BACzCuE,IAAI,SAAU,QACdA,IAAI,gBAAiBsB,GACrBrB,MACCyG,YAAaA,EACbpM,YAAaA,IAXqB,cAKhCqG,EALgCgG,EAAA9F,KAAA8F,EAAA7F,OAAA,SAa/BH,EAAIkF,QAb2B,wBAAAc,EAAAzG,SAAAuG,EAAAvJ,SAAxC,gBAAA0J,EAAAC,EAAAC,EAAAC,GAAA,OAAAP,EAAAnG,MAAAnD,KAAAoD,YAAA,GAgBA5B,IAAKC,QAAQC,UAAUoI,eAAvB,eAAAC,EAAA9H,IAAAC,EAAAC,EAAAC,KAAwC,SAAA4H,EAA+BzL,EAAUX,EAAU0I,EAAO2D,GAA1D,IAAAC,EAAAC,EAAA1G,EAAA2G,EAAAC,EAAA,OAAAnI,EAAAC,EAAAI,KAAA,SAAA+H,GAAA,cAAAA,EAAA7H,KAAA6H,EAAA5H,MAAA,cAAA4H,EAAA5H,KAAA,EACZ1C,KAAKuK,eAAehM,GADR,UAChC2L,EADgCI,EAAA3G,KAAA2G,EAAA7H,KAAA,EAI9B0H,GAAiBK,OAAQ,QAJKF,EAAAG,GAKrBR,EALqBK,EAAAG,GAAA,CAAAH,EAAA5H,KAAA,gBAAA4H,EAAA5H,KAAA,EAKE1C,KAAKU,OALP,OAAA4J,EAAAG,GAAAH,EAAA3G,KAKe1H,SALf,eAKpCgO,EALoCK,EAAAG,GAM/BjJ,IAAKmB,MAAM+H,cACdP,EAAQQ,OAASV,GAPiBK,EAAA5H,KAAA,GASlBlB,IAAKmB,MAAMC,WAAWC,KAAKqH,EAAc,cACxDpH,IAAIqH,GACJpH,MAAOxE,SAAUA,EAAUX,SAAUA,EAAU0I,MAAOA,IAXrB,YAS9B7C,EAT8B6G,EAAA3G,MAa3BE,KAAKjC,MAbsB,CAAA0I,EAAA5H,KAAA,eAc5B,IAAIkI,MAAM,2BAA6BnH,EAAII,MAdf,eAAAyG,EAAAO,GAgBzBrJ,IAAKsJ,WAhBoBR,EAAAS,GAiBlCvJ,IAAKC,QAjB6B6I,EAAA5H,KAAA,GAkB1B1C,KAAKU,OAlBqB,eAAA4J,EAAAU,GAAAV,EAAA3G,KAAA2G,EAAAW,GAmBhC1M,EAnBgC+L,EAAAY,GAoBhCzH,EAAII,KAAKjC,MApBuB0I,EAAAa,GAAAb,EAAAS,GAiBrBlJ,iBAjBqBuJ,KAAAd,EAAAS,GAAAT,EAAAU,GAAAV,EAAAW,GAAAX,EAAAY,IAAAZ,EAAAe,GAqBlCrL,KArBkCsK,EAAA1G,OAAA,aAAA0G,EAAAO,GAAAP,EAAAa,GAAAb,EAAAe,KAAA,WAAAf,EAAA7H,KAAA,GAAA6H,EAAAgB,GAAAhB,EAAA,WAwBhCA,EAAAgB,GAAEC,UAAYjB,EAAAgB,GAAEC,SAAS1H,MAAQyG,EAAAgB,GAAEC,SAAS1H,MAxBZ,CAAAyG,EAAA5H,KAAA,cAyB5B0H,EAAUE,EAAAgB,GAAEC,SAAS1H,MACf2H,QAASpB,EAAQoB,MAAMC,QA1BD,CAAAnB,EAAA5H,KAAA,eA2B1B,IAAIkI,MAAMR,EAAQoB,MAAMC,SA3BE,YA6B9BrB,EAAQ9H,SA7BsB,CAAAgI,EAAA5H,KAAA,eA8B1BgJ,EAAS,IAAId,OACjBtI,SAAW8H,EAAQ9H,SACfoJ,EAhC0B,yBAAApB,EAAAtH,SAAAgH,EAAAhK,OAAA,WAAxC,gBAAA2L,EAAAC,EAAAC,EAAAC,GAAA,OAAA/B,EAAA5G,MAAAnD,KAAAoD,YAAA,iDCpKe2I,iBA5Eb,SAAAA,EAAaC,GAUX,GAVyC/L,IAAAD,KAAA+L,GACzC/L,KAAKzD,SAAWyP,EAAYrP,MAAQ,KACpCqD,KAAKsG,MAAQ,sBACbtG,KAAKiM,QAAUD,EAAYE,MAAQF,EAAYC,QAC5B,MAAfD,GAAiD,MAA1BA,EAAYG,aACrCnM,KAAKoM,aACHC,aAAcL,EAAYG,aAI1BnM,KAAKsM,kBAEPtM,KAAKuM,YAAc,IAAI/K,IAAKC,YACvB,CACL,IAAM+K,EAAiBR,EAAYS,oBAsDzC,WACE,GAAIC,IAASC,QACX,OAAO,IAAIC,IAAI,oBAAqBC,OAAOC,SAASC,MAAMA,KAG5D,MAAO,gBADQD,SAASE,SAASxQ,MAAM,KAAKyQ,MAAM,GAAGC,KAAK,MAAQ,WACjC,gBA3D4BC,GACzDnN,KAAKuM,YAAc,IAAI/K,IAAKC,QAAQ+K,GAEtCxM,KAAKoN,MACH7O,SAAU,GACV6F,cAAe,GACf9B,SAAU,IAEZtC,KAAKqN,kBACLrN,KAAKsN,aAAc,iJAIftN,KAAKsN,gEACTtN,KAAKsN,aAAc,GACftN,KAAKsM,kDACDtM,KAAKuN,yBACXvN,KAAKuM,YAAYiB,eAAexN,KAAKoM,YAAYqB,oCAE7CzN,KAAKuM,YAAY7L,mJAIvB,OAAuB,MAAhBV,KAAKiM,iLAMQzK,IAAKmB,MAAMC,WAAWsD,IAAIlG,KAAKiM,SAASnJ,IAAI,SAAU,sBAAlEW,SACNzD,KAAKoM,YAAcsB,IAAEC,MAAM3N,KAAKoM,YAAa3I,EAAII,wBAC1C7D,KAAKoM,mDAEZwB,QAAQC,IAARnK,EAAA+G,IACM,IAAIG,MAAM,wNAKKwB,gFAEnBpM,KAAKoM,aAAepM,KAAKoM,YAAY0B,YACvC1B,EAAY0B,UAAY9N,KAAKoM,YAAY0B,oBAEzBtM,IAAKmB,MAAMC,WAAWC,KAAK7C,KAAKiM,SAASlJ,KAAKqJ,iBAA1D3I,SACNzD,KAAKoM,YAAcsB,IAAEC,MAAM3N,KAAKoM,YAAaA,GAChB,MAAzBpM,KAAKoM,YAAYzP,OAAcqD,KAAKzD,SAAWyD,KAAKoM,YAAYzP,wBAC7D8G,EAAIkF,oHCrEfoF,GACApN,KAAA,MACAqN,KAAA,kBACAjR,MAAA,gBACAkR,WAAA,OAEAC,cANA,SAMAC,EAAAC,EAAA1N,GACA2N,MAAA,mCAAA3N,EAAA,YACAyN,IAEAG,QAVA,eAAAtM,EAAAC,IAAAC,EAAAC,EAAAC,KAAA,SAAAC,IAAA,IAAAkM,EAAA,OAAArM,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAWA1C,KAAAwO,IAAA,IAAAC,EAAAzO,KAAA0O,OAAAC,OAXAnM,EAAAE,KAAA,EAYA1C,KAAAwO,IAAAI,OAZA,cAAApM,EAAAE,KAAA,EAaA1C,KAAAwO,IAAAjC,YAAAgC,SAbA,QAaAA,EAbA/L,EAAAmB,MAcAkL,iBACA7O,KAAAiO,WACAM,EAAAO,YAAAP,EAAAQ,QAAA,iBAAAC,KAAA/N,KAhBA,wBAAAuB,EAAAQ,SAAAX,EAAArC,SAAA,yBAAAgC,EAAAmB,MAAAnD,KAAAoD,YAAA,ICrBe6L,GADEC,OAFjB,WAA0B,IAAaC,EAAbnP,KAAaoP,eAA0BC,EAAvCrP,KAAuCsP,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,OAAO9J,GAAA,SAAvFzF,KAAmGwP,GAAA,GAAnGxP,KAAmGyP,GAAA,KAAAJ,EAAA,SAAAA,EAAA,aAAAA,EAAA,eAAAA,EAAA,OAAgFE,OAAOG,IAA1L1P,KAA0LiO,WAAA0B,OAAA,UAA1L3P,KAAgOyP,GAAA,KAAAJ,EAAA,gCAEzOO,iBADjB,WAAoC,IAAaT,EAAbnP,KAAaoP,eAA0BC,EAAvCrP,KAAuCsP,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,QAAAA,EAAA,SAA/DrP,KAA+DyP,GAAA,UAA/DzP,KAA+DyP,GAAA,KAAAJ,EAAA,QAAsEE,OAAOxC,KAAA,gFAAA8C,IAAA,qBCEhL,IAuBeC,EAvBUC,EAAQ,OAcjCC,CACEjC,EACAkB,GATF,EAVA,SAAAgB,GACEF,EAAQ,SAaV,KAEA,MAUgC,oBCDhCG,GACAC,OACAC,cAAAC,KAAAC,QAAAC,SAAA,GACAzP,OAAAuP,KAAAG,OAAAD,QAAA,IACAE,eAAAJ,KAAAG,OAAAD,QAAAG,EAAAC,EAAA,sBACAC,2BAAAP,KAAAG,OAAAD,QAAAG,EAAAC,EAAA,kCACAlL,IAAA4K,KAAAG,OAAAD,QAAA,aAEAvC,KAAA,kBACA6C,aAAA,EACAC,OAAA,GACAC,OACAC,SAAA,SAAAlQ,GAAA,QAAAA,GAAA4P,EAAAC,EAAA,mCAGAM,UACAC,cAAA,WACA,OAAAlR,KAAAc,QAAAd,KAAA8Q,QAAAJ,EAAAC,EAAA,4CCvCeQ,GADEjC,OAFP,WAAgB,IAAAkC,EAAApR,KAAamP,EAAAiC,EAAAhC,eAA0BC,EAAA+B,EAAA9B,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,gBAAoCE,OAAO9J,GAAA2L,EAAA3L,GAAA3E,MAAAsQ,EAAAtQ,MAAAuQ,WAAAD,EAAAP,YAAA,mBAAAR,KAAAe,EAAAP,YAAA,kBAAAE,OAAAK,EAAAL,MAAAC,UAAAM,MAAAF,EAAAX,eAAsLc,IAAKC,MAAA,SAAAC,GAAyB,OAAAL,EAAAM,MAAA,QAAAD,IAAkCE,eAAA,WAA6B,OAAAP,EAAAP,aAAAO,EAAAP,gBAAiDO,EAAA3B,GAAA,KAAA2B,EAAA,aAAA/B,EAAA,gBAAoDE,OAAO9J,GAAA2L,EAAA3L,GAAA,eAAA4K,KAAAe,EAAAP,YAAA,kBAAAE,OAAAK,EAAAF,eAAAI,MAAAF,EAAAR,2BAA8IgB,OAAQ9Q,MAAAsQ,EAAA,OAAAS,SAAA,SAAAC,GAA4CV,EAAAN,OAAAgB,GAAeC,WAAA,YAAsBX,EAAA/G,MAAA,IAE1sBuF,oBCqBjBoC,EAvBUjC,EAAQ,OAcjBkC,CACd/B,EACAiB,GAT6B,EAEb,KAEC,KAEU,MAUG,QCVhCe,GACA/B,OACAgC,UAAA9B,KAAAG,OAAAD,QAAA,IACA6B,YAAA/B,KAAAG,OAAAD,QAAA,KAEAU,UACAoB,SAAA,WACA,OAAArS,KAAAoS,WAAAxS,OAAA,EAAAI,KAAAoS,WACApS,KAAAmS,SAAAvS,OAAA,EAAAI,KAAAmS,SACA,IAEAG,UAAA,WACA,OAAAtS,KAAAoS,WAAAxS,OAAA,uBCtBe2S,GADErD,OAFP,WAAgB,IAAaC,EAAbnP,KAAaoP,eAA0BC,EAAvCrP,KAAuCsP,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,aAAiCmD,YAAA,cAAhGxS,KAAwHyP,GAAA,KAAAJ,EAAA,WAA4BE,OAAOzO,MAA3Jd,KAA2JqS,SAAAhC,KAA3JrQ,KAA2JsS,UAAAG,WAAA,sBAA2EpD,EAAA,QAAaqD,UAAUC,UAA7P3S,KAA6P4S,GAA7P5S,KAA6PqS,gBAAkC,IAEzRzC,oBCqBjBiD,EAvBU9C,EAAQ,OAcjB+C,CACdZ,EACAK,GAT6B,EAEb,KAEC,KAEU,MAUG,6BCiFjBQ,aAjEb,SAAAA,EAAavH,GAA+BvL,IAAAD,KAAA+S,GAC1C/S,KAAKgT,IAAMhT,KAAKiT,WAAWzH,kDAGjBA,GAIV,GAHAoC,QAAQpC,MAAMA,GAGO,iBAAVA,EACT,YAAaA,EAAb,OAIF,GAAa,MAATA,GAAmC,MAAlBA,EAAMD,UAA2C,MAAvBC,EAAMD,SAAS1H,KAC5D,YAAa7D,KAAKkT,kBAAlB,OAIF,IAAMC,EAAY3H,EAAMD,SAAS1H,KAC3BuP,EAAoBD,EAAU3H,MAChC2G,QAAiBnS,KAAKqT,eAAeD,GAAqBD,GAA1D,OAIEG,EAAYF,EAAoBA,EAAkBvP,KAAOsP,EAAUI,OASzE,OARApB,GAAYnS,KAAKwT,eAAeF,GAI5BF,GAAqBA,EAAkBpF,MAAQyF,MAAMC,QAAQN,EAAkBpF,QACjFmE,GAAYnS,KAAK2T,yBAAyBP,EAAkBpF,OAGvDmE,mDAGiBmB,GACxB,IAAIM,EAAc,GAMlB,OALiB,MAAbN,GAAqBG,MAAMC,QAAQJ,IACrCA,EAAU9T,QAAQ,SAAAqU,GAChBD,WAAuBC,EAASpI,UAG7BmI,yCAGON,GAA+B,IAAAvT,EAAAC,KACzC4T,EAAc,GAMlB,OALiB,MAAbN,GAAqBG,MAAMC,QAAQJ,IACrCA,EAAU9T,QAAQ,SAAAqU,GAChBD,WAAuB7T,EAAKsT,eAAeQ,KAGxCD,yCAGOT,GACd,OAAOA,EAAUW,QAAUX,EAAU1H,SAAWzL,KAAKkT,4DAIrD,MAAO,iDChEIa,QAhCf,SAA0BvF,GACxB,IAAIwF,EAAYxF,EAAIpC,YAAY0B,UAEhC,GAAiB,MAAbkG,GAAmC,UAAdA,GAA0BA,EAE5C,CAQL,GAJKA,EAAUC,SAAS,OACtBD,GAAa,KAGXxF,EAAIpC,YAAYC,aAAc,CAChC,IAAI6H,EAAU,GACV1F,EAAIpC,YAAY3M,MAClByU,WAAmB1F,EAAIpC,YAAY3M,KAErCuU,YAAsBxF,EAAIpC,YAAYC,aAAe6H,EAArD,SAAqE1F,EAAIvC,YACpE,CACL+H,eAAyBxF,EAAIvC,QADxB,IAAAkI,GAAA,EAAAC,GAAA,EAAAC,OAAAC,EAAA,IAGL,QAAAC,EAAAC,EAAyBpU,OAAOqU,QAAQjG,EAAIpC,aAA5CsI,OAAAC,cAAAR,GAAAI,EAAAC,EAAA9R,QAAAkS,MAAAT,GAAA,EAA0D,KAAAnS,EAAAuS,EAAAzT,MAAAwC,EAAAuR,IAAA7S,EAAA,GAA9CvC,EAA8C6D,EAAA,GAAzCwR,EAAyCxR,EAAA,GACrC,iBAARwR,GAAmC,iBAARA,IACpCd,WAAqBvU,EAArB,IAA4BqV,IAL3B,MAAA3G,GAAAiG,GAAA,EAAAC,EAAAlG,EAAA,aAAAgG,GAAAK,EAAAO,QAAAP,EAAAO,SAAA,WAAAX,EAAA,MAAAC,IASPvH,SAASC,KAAOiH,OAxBhBnH,OAAOmI,SCgDIC,kBAjDf,SAAA5S,EAA6BmM,GAA7B,IAAA3J,EAAAqQ,EAAAC,EAAA,OAAAjT,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,WAIM8L,EAAInB,eAAe+H,kBAJzB,CAAA5S,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EAK+B8L,EAAIjC,YAAYpH,gBACzCqJ,EAAIpB,KAAK7O,SACTiQ,EAAIpB,KAAKhJ,cACToK,EAAInB,eAAe+H,kBAAkB3P,IAR3C,UAAAjD,EAAAmB,KASsB8B,GATtB,CAAAjD,EAAAE,KAAA,cAUY,IAAIkI,MAAM,mCAVtB,cAcQ/F,GACJwQ,YAAa7G,EAAInB,eAAeiI,mBAChC3U,KAAM6N,EAAIpC,YAAYmJ,gBACtBlF,KAAM,QAIN,aACA,QACA,cACA,cACA7Q,QAAQ,SAACC,QAC2B,IAAzB+O,EAAIpC,YAAY3M,KACzBoF,EAAYpF,GAAO+O,EAAIpC,YAAY3M,MA3BzC+C,EAAAE,KAAA,GA+B0B8L,EAAIjC,YAAY7H,gBACtC8J,EAAIpB,KAAK7O,SACTiQ,EAAIpB,KAAKhJ,cACTS,GAlCJ,eA+BQqQ,EA/BR1S,EAAAmB,KAqCQwR,GACJxM,OCzC2B,WD2C3BuB,YAAasE,EAAIjC,YAAY5K,mBAAmB6M,EAAIpB,KAAK7O,SAAU2W,EAAUtT,OAC7ErD,SAAUiQ,EAAIpB,KAAK7O,SACnBqD,MAAOsT,EAAUtT,OA1CrBY,EAAAE,KAAA,GA6CQ8L,EAAIgH,kBAAkBL,GA7C9B,QA8CEpB,EAAgBvF,GA9ClB,yBAAAhM,EAAAQ,SAAAX,EAAArC,sDEIeyV,gCAPf,SAAApT,EAA8BmM,GAA9B,IAAAjQ,EAAA,OAAA2D,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EAE6C8L,EAAIjC,YAAYvE,oBAAoBwG,EAAIpB,KAAK7O,UAF1F,cAEQA,EAAWiQ,EAAIpB,KAAK7O,SAF5BiE,EAAAmB,KAAAnB,EAAAE,KAAA,EAIQ8L,EAAIjC,YAAY7E,uBAAuBnJ,GAJ/C,wBAAAiE,EAAAQ,SAAAX,EAAArC,+DCae7C,gCAZf,SAAAkF,EACEmM,EACApR,EACA4L,GAHF,OAAA9G,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EAIQ+S,EAAcjH,GAJtB,cAAAhM,EAAAE,KAAA,EAKQ8L,EAAIjC,YAAYpP,cACpBqR,EAAIpB,KAAK7O,SACTnB,EACA4L,EACAwF,EAAIlI,OATR,wBAAA9D,EAAAQ,SAAAX,EAAArC,mECYe/B,gCAZf,SAAAoE,EACEmM,EACAhF,EACApM,GAHF,OAAA8E,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EAIQ+S,EAAcjH,GAJtB,cAAAhM,EAAAE,KAAA,EAKQ8L,EAAIjC,YAAYtO,eACpBuQ,EAAIpB,KAAK7O,SACTiL,EACApM,EACAoR,EAAIpB,KAAKhJ,eATb,wBAAA5B,EAAAQ,SAAAX,EAAArC,mECqDe0V,gCAlDf,SAAArT,EACEmM,EACAmH,GAFF,IAAAC,EAAAvI,EAAA8H,EAAA,OAAAjT,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAGQkT,MAEJ,kBACA,uBACA,aACA,QACA,cACA,cACApW,QAAQ,SAACC,QAC2B,IAAzB+O,EAAIpC,YAAY3M,KACzBmW,EAAUnW,GAAO+O,EAAIpC,YAAY3M,MAbvC+C,EAAAE,KAAA,EAkByC8L,EAAIjC,YAAYtI,eACrDuK,EAAIpB,KAAK7O,SACTiQ,EAAIpB,KAAKhJ,cACTwR,GArBJ,UAwBuC,OAN/BvI,EAlBR7K,EAAAmB,MAwBqBkS,eAxBrB,CAAArT,EAAAE,KAAA,gBAyBUyS,GACJxM,OJ9ByB,WI+BzBuB,YAAasE,EAAIjC,YAAY5K,mBAAmB6M,EAAIpB,KAAK7O,SAAU8O,EAAewI,eAAejU,OACjGrD,SAAUiQ,EAAIpB,KAAK7O,SACnBqD,MAAOyL,EAAewI,eAAejU,OA7B3CY,EAAAE,KAAA,EA+BU8L,EAAIgH,kBAAkBL,GA/BhC,cAAA3S,EAAAoB,OAAA,SAgCWmQ,EAAgBvF,IAhC3B,QAoC2C,MAArCnB,EAAeiI,qBACjB9G,EAAIpC,YAAY0J,qBAAuBzI,EAAeiI,oBAIxD9G,EAAInB,eAAiBA,EAMrBsI,IA/CF,yBAAAnT,EAAAQ,SAAAX,EAAArC,iEC0BemG,gCAzBf,SAAA9D,EACEmM,EACAxN,EACApD,EACAS,EACAG,GALF,IAAAgI,EAAAuP,EAAA,OAAA7T,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAQM8D,EAAU,KACVgI,EAAIpC,cACN5F,EAAUgI,EAAIpC,YAAY5F,SAAWgI,EAAIpC,YAAYmJ,iBAVzD/S,EAAAE,KAAA,EAYwB8L,EAAIjC,YAAYpG,WACpCnF,EACAwN,EAAIpB,KAAK7O,SACTX,EACAS,EACAG,EACAgQ,EAAIjS,SACJiS,EAAIlI,MACJ,KACAE,GArBJ,cAYQuP,EAZRvT,EAAAmB,KAAAnB,EAAAoB,OAAA,SAsBSmS,GAtBT,wBAAAvT,EAAAQ,SAAAX,EAAArC,uECEegW,gCANf,SAAA3T,EAA6BmM,GAA7B,IAAAhO,EAAAyV,EAAA,OAAA/T,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACyB8L,EAAIjC,YAAYzG,uBADzC,cACQtF,EADRgC,EAAAmB,KAEQsS,EAAoBzV,EAAS0V,eAFrC1T,EAAAoB,OAAA,SAGSqS,GAHT,wBAAAzT,EAAAQ,SAAAX,EAAArC,+DCuCemW,gCApCf,SAAA9T,EACEmM,EACA5Q,GAFF,IAAAW,EAAA6X,EAAA9T,EAAA0Q,EAAA,OAAA9Q,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,WAGM8L,EAAIpC,aPLwB,gBOKToC,EAAIpC,YAAYzD,OAHzC,CAAAnG,EAAAE,KAAA,eAAAF,EAAAoB,OAAA,SAIWmQ,EAAgBvF,IAJ3B,cAAAhM,EAAAE,KAAA,EAOQ+S,EAAcjH,GAPtB,cASQjQ,EAAWiQ,EAAIpB,KAAK7O,SAT5BiE,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAaiC8L,EAAIjC,YAAYzC,eAC3CvL,EACAX,EACA4Q,EAAIlI,OAhBV,OAaU8P,EAbV5T,EAAAmB,KAkBI6K,EAAIpB,KAAKhJ,cAAgBgS,EAAexU,OAAS,GAlBrDY,EAAAE,KAAA,oBAAAF,EAAAC,KAAA,GAAAD,EAAAiI,GAAAjI,EAAA,SAqBwB,MAAhBA,EAAAiI,GAAInI,SArBZ,CAAAE,EAAAE,KAAA,gBAsBYJ,EAAWE,EAAAiI,GAAInI,SAtB3BE,EAAAC,KAAA,GAAAD,EAAAE,KAAA,GAwBc8L,EAAIjC,YAAYxK,aAAaxD,EAAU+D,GAxBrD,QAyBQkM,EAAIpB,KAAK9K,SAAWA,GAAY,GAzBxCE,EAAAE,KAAA,uBAAAF,EAAAC,KAAA,GAAAD,EAAAqI,GAAArI,EAAA,UA2Bc,IAAIuQ,EAAS,oCA3B3B,QAAAvQ,EAAAE,KAAA,uBA8BYsQ,EAAMxQ,EAAAiI,GAAIgB,SAAW,mBACrB,IAAIsH,EAASC,GA/BzB,yBAAAxQ,EAAAQ,SAAAX,EAAArC,OAAA,2ECeeqW,gCAhBf,SAAAhU,EAA6BmM,GAA7B,IAAA8H,EAAA,OAAApU,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACQ4T,GACJ3N,ORJ0B,UQK1B4N,SAAU,kBACV9K,QAAS,gEAJbjJ,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EASU8L,EAAIgH,kBAAkBc,GAThC,cAAA9T,EAAAC,KAAA,EAYIsR,EAAgBvF,GAZpBhM,EAAAgU,OAAA,2BAAAhU,EAAAQ,SAAAX,EAAArC,OAAA,mECGeyW,gCALf,SAAApU,EAAqCmM,GAArC,OAAAtM,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACQ+S,EAAcjH,GADtB,cAAAhM,EAAAE,KAAA,EAEQ8L,EAAIjC,YAAY9O,qBAAqB+Q,EAAIpB,KAAK7O,SAAUiQ,EAAIlI,OAFpE,wBAAA9D,EAAAQ,SAAAX,EAAArC,+DCee0W,iCALf,SAAArU,EAA+BmM,GAA/B,IAAA9N,EAAA,OAAAwB,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACqB8L,EAAIjC,YAAY7L,OADrC,cACQA,EADR8B,EAAAmB,KAAAnB,EAAAoB,OAAA,SAESlD,GAFT,wBAAA8B,EAAAQ,SAAAX,EAAArC,+DCDeqD,iCAXf,SAAAhB,EACEmM,EACAhL,GAFF,OAAAtB,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAKmC8L,EAAIjC,YAAYlJ,UAAUmL,EAAIpB,KAAK7O,SAAUiQ,EAAIpB,KAAK9K,SAAUkB,GALnG,OAKIgL,EAAIpB,KAAKhJ,cALb5B,EAAAmB,KAAAnB,EAAAE,KAAA,qBAAAF,EAAAC,KAAA,EAAAD,EAAAiI,GAAAjI,EAAA,SAOU,IAAIuQ,EAAS,4BAPvB,wBAAAvQ,EAAAQ,SAAAX,EAAArC,OAAA,kECeA,SAAS2W,GAAanI,EAAKoI,GAAK,IAAA7W,EAAAC,KAC9B,OAAAiC,IAAAC,EAAAC,EAAAC,KAAO,SAAAC,IAAA,QAAAwU,EAAAzT,UAAAxD,OAAUkX,EAAVrD,MAAAoD,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAUD,EAAVC,GAAA3T,UAAA2T,GAAA,OAAA7U,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEUkU,gBAAIpI,GAAJwI,OAAAC,IAAYH,KAFtB,cAAAtU,EAAAoB,OAAA,SAAApB,EAAAmB,MAAA,UAAAnB,EAAAC,KAAA,EAAAD,EAAAiI,GAAAjI,EAAA,WAICA,EAAAiI,cAAesI,GAJhB,CAAAvQ,EAAAE,KAAA,eAAAF,EAAAiI,GAAA,cAOK,IAAIsI,EAAJvQ,EAAAiI,IAPL,yBAAAjI,EAAAQ,SAAAX,EAAAtC,IAAA,UA8BMmX,OAjBf,SAA4B1I,GAC1B,OACEyG,aAAc0B,GAAYnI,EAAKyG,GAC/B9X,cAAewZ,GAAYnI,EAAKrR,GAChCc,eAAgB0Y,GAAYnI,EAAKvQ,GACjCyX,YAAaiB,GAAYnI,EAAKkH,GAC9BvP,WAAYwQ,GAAYnI,EAAKrI,GAC7B6P,aAAcW,GAAYnI,EAAKwH,GAC/BG,MAAOQ,GAAYnI,EAAK2H,GACxBE,aAAcM,GAAYnI,EAAK6H,GAC/BI,qBAAsBE,GAAYnI,EAAKiI,GACvCC,eAAgBC,GAAYnI,EAAKkI,IACjCjB,cAAekB,GAAYnI,EAAKiH,GAChCpS,UAAWsT,GAAYnI,EAAKnL,MC8BhC8T,IACAC,YACAlH,SAAA8B,EACAE,OAAAW,GAEA7E,KAAA,kBACApQ,SAAA,GACAS,MAAA,GACAG,QAAA,GACAyX,qBACAF,QAAA,KACAsB,YAAA,EACA7I,OACA8I,EAAA,KACA9L,MAAA,GACA+L,QAAA,GACAxG,OACAC,SAAA,SAAAlQ,GAAA,QAAAA,GAAA4P,EAAAC,EAAA,0BAEA6G,WAAA,IAEAlJ,QArBA,eAAAtM,EAAAC,IAAAC,EAAAC,EAAAC,KAAA,SAAAC,IAAA,OAAAH,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAsBA1C,KAAAwO,IAAA,IAAAC,EAAAzO,KAAA0O,OAAAC,OAtBAnM,EAAAE,KAAA,EAuBA1C,KAAAwO,IAAAI,OAvBA,OAwBA5O,KAAAsX,EAAAG,GAAAzX,KAAAwO,KAEAxO,KAAAsX,EAAAtB,eACA0B,KAAA1X,KAAA2X,cACAC,MAAA5X,KAAA6X,WA5BA,wBAAArV,EAAAQ,SAAAX,EAAArC,SAAA,yBAAAgC,EAAAmB,MAAAnD,KAAAoD,YAAA,GA8BA0U,SACAC,OADA,WACA,IAAAhY,EAAAC,KACA,GAAAA,KAAAgY,MAAAC,KAAAC,WAAA,CACAlY,KAAAqX,YAAA,EAEArX,KAAAmY,8BAEA,IAAAnX,EAAA,GACAhB,KAAAiW,kBAAAzW,QAAA,SAAAU,GACAA,EAAAY,QAAAf,EAAAvB,UACAwC,EAAAd,EAAAc,iBAGAhB,KAAAsX,EAAAnR,WAAAnF,EAAAhB,KAAApC,SAAAoC,KAAA3B,MAAA2B,KAAAxB,SACAkZ,KAAA,SAAA3B,GACAhW,EAAAgW,UACAhW,EAAAwX,QAAA7G,EAAAC,EAAA,gCAAApS,SAAAwX,EAAAxX,WACAwB,EAAAyO,IAAAlC,oBACAQ,SAAAC,KAAAhN,EAAAyO,IAAAjC,YAAA5K,mBAAAoU,EAAAxX,aAGAqZ,MAAA5X,KAAA6X,WACAO,QAAA,WAAArY,EAAAsX,YAAA,MAGA3Y,MAzBA,WA0BAsB,KAAAgY,MAAAC,KAAA/b,SAEAyb,aA5BA,SA4BAnX,GACAR,KAAAiW,kBAAAzV,EACAR,KAAAiW,kBAAArW,OAAA,IACAI,KAAAxB,QAAAwB,KAAAiW,kBAAA,GAAAnV,QAGA+W,UAlCA,SAkCArM,GACAxL,KAAAwL,QAAAwH,KAEAmF,4BArCA,YAsCA,MAAAnY,KAAA3B,OAAA,iBAAA2B,KAAA3B,OAAA,IAAA2B,KAAA3B,MAAAuB,UACAI,KAAA3B,MAMA,SAAAuB,GAIA,IAHA,IAAAyY,EAAA,GACAC,EAAA,uCACAC,EAAAD,EAAA1Y,OACA2B,EAAA,EAAAA,EAAA3B,EAAA2B,IACA8W,GAAAC,EAAAE,OAAAC,KAAAC,MAAAD,KAAAE,SAAAJ,IAEA,OAAAF,EAbAO,CAAA,mBChJA,IAGeC,IADE3J,OAFP,WAAgB,IAAAkC,EAAApR,KAAamP,EAAAiC,EAAAhC,eAA0BC,EAAA+B,EAAA9B,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,MAAA+B,EAAA3B,GAAA2B,EAAAwB,GAAAxB,EAAA0H,GAAA,0BAAA1H,EAAA3B,GAAA,WAAA2B,EAAA2E,QAAA1G,EAAA,UAAsH0J,IAAA,OAAAxJ,OAAkB9J,GAAA,gBAAoB8L,IAAKwG,OAAA,SAAAtG,GAA0BA,EAAAuH,mBAA0BpH,OAAQ9Q,MAAAsQ,EAAA,UAAAS,SAAA,SAAAC,GAA+CV,EAAAoG,UAAA1F,GAAkBC,WAAA,eAAyB1C,EAAA,gBAAqBE,OAAO9J,GAAA,QAAA6L,MAAAF,EAAA0H,GAAA,sBAAAG,YAAA7H,EAAA0H,GAAA,kCAAwGlH,OAAQ9Q,MAAAsQ,EAAA,MAAAS,SAAA,SAAAC,GAA2CV,EAAA/S,MAAAyT,GAAcC,WAAA,WAAqBX,EAAA3B,GAAA,KAAAJ,EAAA,gBAAiCE,OAAO9J,GAAA,WAAAsL,OAAAK,EAAAL,MAAAC,UAAAM,MAAAF,EAAA0H,GAAA,0BAAqFlH,OAAQ9Q,MAAAsQ,EAAA5C,IAAApB,KAAA,SAAAyE,SAAA,SAAAC,GAAuDV,EAAA8H,KAAA9H,EAAA5C,IAAApB,KAAA,WAAA0E,IAAwCC,WAAA,uBAAiCX,EAAA3B,GAAA,KAAAJ,EAAA,YAA6BE,OAAOa,cAAA,GAAoBwB,OAAQ9Q,MAAAsQ,EAAA,SAAAS,SAAA,SAAAC,GAA8CV,EAAAxT,SAAAkU,GAAiBC,WAAA,cAAwBX,EAAA3B,GAAA,KAAAJ,EAAA,kBAAmCE,OAAO9J,GAAA,UAAA0T,MAAA/H,EAAA6E,kBAAAlF,OAAAK,EAAAL,MAAAC,UAAAM,MAAAF,EAAA0H,GAAA,wBAAAG,YAAA7H,EAAA0H,GAAA,oCAAyKlH,OAAQ9Q,MAAAsQ,EAAA,QAAAS,SAAA,SAAAC,GAA6CV,EAAA5S,QAAAsT,GAAgBC,WAAA,aAAuBX,EAAA3B,GAAA,KAAAJ,EAAA,SAA0BE,OAAO9J,GAAA,eAAA2T,UAAAhI,EAAAoG,WAAApG,EAAAiG,YAA8D9F,IAAK8H,MAAAjI,EAAA2G,UAAoB3G,EAAA3B,GAAA2B,EAAAwB,GAAAxB,EAAA0H,GAAA,2BAAA1H,EAAA3B,GAAA,KAAAJ,EAAA,SAA0EE,OAAO9J,GAAA,eAAmB8L,IAAK8H,MAAAjI,EAAA1S,SAAmB0S,EAAA3B,GAAA2B,EAAAwB,GAAAxB,EAAA0H,GAAA,0BAAA1H,EAAA3B,GAAA,KAAAJ,EAAA,OAAA+B,EAAA3B,GAAA,qDAAAJ,EAAA,KAA2IE,OAAO+J,OAAA,SAAAvM,KAAA,oCAA2DqE,EAAA3B,GAAA,0BAAA2B,EAAA3B,GAAA,iBAAA2B,EAAA/G,KAAA+G,EAAA3B,GAAA,KAAA2B,EAAA5C,IAAAlC,kBAAA+C,EAAA,OAAAA,EAAA,aAAsImD,YAAA,cAAwBpB,EAAA3B,GAAA,KAAAJ,EAAA,eAAgCE,OAAOgK,IAAM5Y,KAAA,oBAA0B0O,EAAA,MAAA+B,EAAA3B,GAAA2B,EAAAwB,GAAAxB,EAAA0H,GAAA,qCAAA1H,EAAA/G,KAAA+G,EAAA3B,GAAA,KAAAJ,EAAA,UAAuGE,OAAO6C,WAAAhB,EAAAmG,QAAApF,SAAAf,EAAA5F,UAA+C,IAExlEoE,oBCqBjB4J,GAvBUzJ,EAAQ,OAcjB0J,CACdtC,GACA0B,IAT6B,EAEb,KAEC,KAEU,MAUG,QC2BhCa,IACAtC,YACAlH,SAAA8B,EACAE,OAAAW,GAEA1C,OACAnH,YAAAqH,KAAAG,OAAAD,QAAA,OAEAvC,KAAA,kBACApQ,SAAA,GACA4N,MAAA,GACA+L,QAAA,GACAoC,UAAA,EACAtC,YAAA,EACA7I,OACA8I,EAAA,KACAvG,OACAC,SAAA,SAAAlQ,GAAA,QAAAA,GAAA4P,EAAAC,EAAA,0BAEA6G,WAAA,IAEAvG,UACA2I,UAAA,WACA,OAAA5Z,KAAAgJ,WAAA0H,EAAAC,EAAA,gCAAAD,EAAAC,EAAA,gCAEAkJ,WAAA,WACA,OAAA7Z,KAAAgJ,WAAA0H,EAAAC,EAAA,mCAAAD,EAAAC,EAAA,wCAGArC,QA7BA,eAAAtM,EAAAC,IAAAC,EAAAC,EAAAC,KAAA,SAAAC,IAAA,OAAAH,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cA8BA1C,KAAAwO,IAAA,IAAAC,EAAAzO,KAAA0O,OAAAC,OA9BAnM,EAAAE,KAAA,EA+BA1C,KAAAwO,IAAAI,OA/BA,OAgCA5O,KAAAsX,EAAAG,GAAAzX,KAAAwO,KAhCA,wBAAAhM,EAAAQ,SAAAX,EAAArC,SAAA,yBAAAgC,EAAAmB,MAAAnD,KAAAoD,YAAA,GAkCA0U,SACAC,OADA,WACA,IAAAhY,EAAAC,KACAA,KAAAwO,IAAApB,KAAA7O,SAAAyB,KAAAwO,IAAApB,KAAA7O,SAAAub,OACA9Z,KAAAgY,MAAAC,KAAAC,aACAlY,KAAAqX,YAAA,EAEA,MAAArX,KAAAgJ,WACAhJ,KAAAsX,EAAAb,uBACAiB,KAAA,WACA3X,EAAA4Z,UAAA,EACA5Z,EAAAwX,QAAA7G,EAAAC,EAAA,+CAEAiH,MAAA5X,KAAA6X,WACAO,QAAA,WAAArY,EAAAsX,YAAA,IAGArX,KAAAsX,EAAAna,cAAA6C,KAAApC,SAAAoC,KAAAgJ,YACA0O,KAAA,WACA3X,EAAA4Z,UAAA,EACA5Z,EAAAwX,QAAA7G,EAAAC,EAAA,wCAEAiH,MAAA5X,KAAA6X,WACAO,QAAA,WAAArY,EAAAsX,YAAA,MAIAQ,UA1BA,SA0BArM,GACAxL,KAAAwL,QAAAwH,OC5Ge+G,IADE7K,OAFP,WAAgB,IAAAkC,EAAApR,KAAamP,EAAAiC,EAAAhC,eAA0BC,EAAA+B,EAAA9B,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,MAAA+B,EAAA3B,GAAA2B,EAAAwB,GAAAxB,EAAA0H,GAAA,2BAAA1H,EAAA3B,GAAA,KAAA2B,EAAA,SAAA/B,EAAA,UAAkH0J,IAAA,OAAAxH,IAAewG,OAAA,SAAAtG,GAA0BA,EAAAuH,mBAA0BpH,OAAQ9Q,MAAAsQ,EAAA,UAAAS,SAAA,SAAAC,GAA+CV,EAAAoG,UAAA1F,GAAkBC,WAAA,eAAyB1C,EAAA,gBAAqBE,OAAO9J,GAAA,kBAAAsL,OAAAK,EAAAL,MAAAC,UAAAM,MAAAF,EAAA0H,GAAA,kCAAoGlH,OAAQ9Q,MAAAsQ,EAAA5C,IAAApB,KAAA,SAAAyE,SAAA,SAAAC,GAAuDV,EAAA8H,KAAA9H,EAAA5C,IAAApB,KAAA,WAAA0E,IAAwCC,WAAA,uBAAiCX,EAAA3B,GAAA,WAAA2B,EAAApI,WAAAqG,EAAA,YAAoDE,OAAOkB,cAAAW,EAAA0H,GAAA,6BAAAlI,0BAAAQ,EAAA0H,GAAA,yCAAA1I,cAAA,GAAoJwB,OAAQ9Q,MAAAsQ,EAAA,SAAAS,SAAA,SAAAC,GAA8CV,EAAAxT,SAAAkU,GAAiBC,WAAA,cAAwBX,EAAA/G,KAAA+G,EAAA3B,GAAA,KAAAJ,EAAA,SAAmCE,OAAO9J,GAAA,eAAA2T,UAAAhI,EAAAoG,WAAApG,EAAAiG,YAA8D9F,IAAK8H,MAAAjI,EAAA2G,UAAoB3G,EAAA3B,GAAA2B,EAAAwB,GAAAxB,EAAAyI,gBAAA,GAAAzI,EAAA/G,KAAA+G,EAAA3B,GAAA,KAAA2B,EAAA5C,IAAAlC,kBAAA+C,EAAA,OAAAA,EAAA,aAAkHmD,YAAA,cAAwBpB,EAAA3B,GAAA,KAAAJ,EAAA,eAAgCE,OAAOgK,IAAM5Y,KAAA,oBAA0B0O,EAAA,MAAA+B,EAAA3B,GAAA2B,EAAAwB,GAAAxB,EAAA0H,GAAA,sCAAA1H,EAAA/G,KAAA+G,EAAA3B,GAAA,KAAAJ,EAAA,UAAwGE,OAAO6C,WAAAhB,EAAAmG,QAAApF,SAAAf,EAAA5F,UAA+C,IAEt3CoE,oBCqBjBoK,GAvBUjK,EAAQ,OAcjBkK,CACdP,GACAK,IAT6B,EAEb,KAEC,KAEU,MAUG,gCCiChCG,IACA/J,OACA3B,KAAA6B,KAAAjQ,OAAAmQ,QAAA,eAEAvC,KAAA,kBACAmM,QAAA,EACA/N,YAAA,KACAiB,eAAA,OAGA4D,UACAmJ,WAAA,WACA,SAAApa,KAAAwO,IAAApC,YAAAiO,WAAA,CACA,IAAAzZ,EAAAZ,KAAAwO,IAAApC,YAAAiO,WAAA,4BACA,aAAAzZ,EAAA0Z,KAAA1Z,EAAA9B,SAAA,KAGAyb,eAAA,WACA,aAAAva,KAAAwO,IAAAnB,eAAA+H,mBAEAoF,OAAA,WACA,aAAAxa,KAAAwO,IAAApC,YAAAqO,cAGAnM,QAAA,WACAtO,KAAAoM,YAAApM,KAAAwO,IAAApC,YACApM,KAAAqN,eAAArN,KAAAwO,IAAAnB,gBAEAyK,SACA4C,YADA,SACAC,GACA3a,KAAAma,QAAA,EACAna,KAAA0R,MAAAiJ,MCpFeC,IADE1L,OAFP,WAAgB,IAAAkC,EAAApR,KAAamP,EAAAiC,EAAAhC,eAA0BC,EAAA+B,EAAA9B,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,YAAsBE,OAAOsL,MAAA,MAAAC,WAAA,IAA8BlJ,OAAQ9Q,MAAAsQ,EAAA,OAAAS,SAAA,SAAAC,GAA4CV,EAAA+I,OAAArI,GAAeC,WAAA,YAAsB1C,EAAA,UAAAA,EAAA,gBAAkCmD,YAAA,0BAAAjD,OAA6C9J,GAAA,eAAkB4J,EAAA,QAAAA,EAAA,KAAA+B,EAAA3B,GAAA2B,EAAAwB,GAAAxB,EAAAhF,YAAAmJ,wBAAAnE,EAAA3B,GAAA,KAAAJ,EAAA,eAAyG0L,aAAaC,aAAA,UAAqB3L,EAAA,MAAA+B,EAAA3B,GAAA,+BAAA2B,EAAA3B,GAAA,KAAAJ,EAAA,KAAA+B,EAAA6J,GAAA7J,EAAAhF,YAAA,8BAAA8O,EAAAnf,GAA8I,OAAAsT,EAAA,MAAgB5P,IAAA1D,IAAUqV,EAAA3B,GAAA,kBAAA2B,EAAAwB,GAAAsI,EAAAC,MAAAC,eAAA,KAAA/L,EAAA,KAAA+B,EAAA3B,GAAA2B,EAAAwB,GAAA,MAAAsI,EAAAG,SAAA,eAAAH,EAAAva,MAAAua,EAAAI,oBAA4L,GAAAlK,EAAA3B,GAAA,KAAA2B,EAAA,OAAA/B,EAAA,QAAyC0L,aAAaC,aAAA,UAAqB3L,EAAA,KAAA+B,EAAA3B,GAAA,wBAAA2B,EAAA3B,GAAA,IAAA2B,EAAAwB,GAAAxB,EAAAhF,YAAAqO,aAAA,eAAArJ,EAAA/G,KAAA+G,EAAA3B,GAAA,KAAAJ,EAAA,MAAA+B,EAAA3B,GAAA,KAAA2B,EAAA,WAAA/B,EAAA,QAA6KqD,UAAUC,UAAAvB,EAAAwB,GAAAxB,EAAAgJ,eAAoChJ,EAAA/G,OAAA+G,EAAA3B,GAAA,KAAA2B,EAAA,eAAA/B,EAAA,WAA4D0L,aAAaC,aAAA,QAAoBzL,OAAQzO,MAAAsQ,EAAAmJ,eAAAlK,KAAAe,EAAAkB,UAAAG,WAAA,sBAAiFpD,EAAA,KAAA+B,EAAA3B,GAAA,oFAAA2B,EAAA/G,KAAA+G,EAAA3B,GAAA,KAAAJ,EAAA,aAAA+B,EAAA3B,GAAA,KAAAJ,EAAA,kBAAAA,EAAA,YAAA+B,EAAA3B,GAAA,KAAAJ,EAAA,SAAkNE,OAAO9J,GAAA,qBAAyB8L,IAAK8H,MAAA,SAAA5H,GAAyB,OAAAL,EAAAsJ,YAAA,eAAoCtJ,EAAA3B,GAAA,YAAA2B,EAAA3B,GAAA,KAAAJ,EAAA,SAA6CE,OAAO9J,GAAA,qBAAyB8L,IAAK8H,MAAA,SAAA5H,GAAyB,OAAAL,EAAAsJ,YAAA,gBAAqCtJ,EAAA3B,GAAA,yBAE7rDG,oBCmGhC2L,IACAnE,YACAlH,SAAA8B,EACAkI,YCxGyBnK,EAAQ,OAcjByL,CACdtB,GACAU,IAT6B,EAEb,KAEC,KAEU,MAUG,QDkFhC1I,OAAAW,GAEA7E,KAAA,kBACApQ,SAAA,GACAwG,cAAA,GACA9B,SAAA,GACAmZ,QAAA,GACAjQ,MAAA,GACA8J,mBAAA,KACAjI,eAAA,KACAqO,gBACArE,YAAA,EACAC,EAAA,KACA9I,OACAuC,OACAC,SAAA,SAAAlQ,GAAA,QAAAA,GAAA,2BACAzC,MAAA,SAAAyC,GAAA,cAAA6a,KAAA7a,IAAA,yBAEA0W,WAAA,IAEAvG,UACA2K,cACA1V,IAAA,WACA,WAAAlG,KAAAwO,IAAApB,KAAA9K,YAIAgM,QA/BA,eAAAtM,EAAAC,IAAAC,EAAAC,EAAAC,KAAA,SAAAC,IAAA,OAAAH,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAgCA1C,KAAAwO,IAAA,IAAAC,EAAAzO,KAAA0O,OAAAC,OAhCAnM,EAAAE,KAAA,EAiCA1C,KAAAwO,IAAAI,OAjCA,OAkCA5O,KAAAsX,EAAAG,GAAAzX,KAAAwO,KACAxO,KAAAsX,EACAZ,iBACAgB,KAAA1X,KAAA6b,WACAjE,MAAA5X,KAAA6X,WAtCA,wBAAArV,EAAAQ,SAAAX,EAAArC,SAAA,yBAAAgC,EAAAmB,MAAAnD,KAAAoD,YAAA,GAwCA0U,SACAC,OADA,eAAAzU,EAAArB,IAAAC,EAAAC,EAAAC,KAAA,SAAAmB,IAAA,OAAArB,EAAAC,EAAAI,KAAA,SAAAmB,GAAA,cAAAA,EAAAjB,KAAAiB,EAAAhB,MAAA,UAEA1C,KAAAwO,IAAApB,KAAA7O,SAAAyB,KAAAwO,IAAApB,KAAA7O,SAAAub,QACA9Z,KAAAgY,MAAAC,KAAAC,WAHA,CAAAxU,EAAAhB,KAAA,gBAIA1C,KAAAqX,YAAA,EAJA3T,EAAAjB,KAAA,EAAAiB,EAAAhB,KAAA,EAMA1C,KAAAsX,EAAAnB,MAAAnW,KAAApC,UANA,UAOAoC,KAAAwO,IAAApC,YAPA,CAAA1I,EAAAhB,KAAA,cAQA,IAAAkI,MAAA,gJARA,UAUA5K,KAAA4b,aAVA,CAAAlY,EAAAhB,KAAA,gBAAAgB,EAAAhB,KAAA,GAWA1C,KAAAsX,EAAA5B,YAAA1V,KAAA2V,iBAXA,QAAAjS,EAAAhB,KAAA,iBAAAgB,EAAAjB,KAAA,GAAAiB,EAAA+G,GAAA/G,EAAA,SAcA1D,KAAA6X,UAAAnU,EAAA+G,IAdA,eAAA/G,EAAAjB,KAAA,GAgBAzC,KAAAqX,YAAA,EAhBA3T,EAAA8S,OAAA,6BAAA9S,EAAAV,SAAAO,EAAAvD,OAAA,0CAAAsD,EAAAH,MAAAnD,KAAAoD,YAAA,GAqBA0Y,UArBA,eAAA5X,EAAAjC,IAAAC,EAAAC,EAAAC,KAAA,SAAA+B,IAAA,OAAAjC,EAAAC,EAAAI,KAAA,SAAA+B,GAAA,cAAAA,EAAA7B,KAAA6B,EAAA5B,MAAA,cAAA4B,EAAA7B,KAAA,EAAA6B,EAAA5B,KAAA,EAuBA1C,KAAAsX,EAAAjU,UAAArD,KAAAyb,SAvBA,cAAAnX,EAAA5B,KAAA,EAwBA1C,KAAAsX,EAAA5B,YAAA1V,KAAA2V,iBAxBA,OAAArR,EAAA5B,KAAA,gBAAA4B,EAAA7B,KAAA,EAAA6B,EAAAmG,GAAAnG,EAAA,SA0BAtE,KAAA6X,UAAAvT,EAAAmG,IA1BA,eAAAnG,EAAA7B,KAAA,GA4BAzC,KAAAwO,IAAApB,KAAA9K,SAAA,GA5BAgC,EAAAkS,OAAA,6BAAAlS,EAAAtB,SAAAmB,EAAAnE,OAAA,yCAAAkE,EAAAf,MAAAnD,KAAAoD,YAAA,GAgCAuS,gBAhCA,WAiCA3V,KAAAqN,eAAArN,KAAAwO,IAAAnB,eACArN,KAAAsV,mBAAAtV,KAAAwO,IAAA8G,oBAGA9K,OArCA,WAsCAxK,KAAAsX,EAAArC,eAAA2C,MAAA5X,KAAA6X,YAGAkE,OAzCA,WA0CA/b,KAAAsX,EAAAjB,eAAAuB,MAAA5X,KAAA6X,YAEAA,UA5CA,SA4CArM,GACAxL,KAAAwL,QAAAwH,KAAAxH,EAAAC,SAEAoQ,UA/CA,SA+CAG,GACAhc,KAAA0b,aAAAM,KEzLeC,IADE/M,OAHP,WAAgB,IAAAkC,EAAApR,KAAamP,EAAAiC,EAAAhC,eAA0BC,EAAA+B,EAAA9B,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,MAAA+B,EAAA3B,GAAA,aAAA2B,EAAA3B,GAAA,WAAA2B,EAAA5C,IAAAnB,eAAAiI,mBAAAjG,EAAA,eAAgIE,OAAOf,IAAA4C,EAAA5C,KAAc+C,IAAK2K,SAAA9K,EAAA5G,OAAA2R,QAAA/K,EAAA2K,UAA4C3K,EAAA/G,KAAA+G,EAAA3B,GAAA,KAAAJ,EAAA,YAAsCE,OAAOuL,WAAA,GAAAD,MAAA,OAA8BjJ,OAAQ9Q,MAAAsQ,EAAA,aAAAS,SAAA,SAAAC,GAAkDV,EAAAwK,aAAA9J,GAAqBC,WAAA,kBAA4B1C,EAAA,UAAAA,EAAA,gBAAkCmD,YAAA,4BAAsCpB,EAAA3B,GAAA,sBAAA2B,EAAA3B,GAAA,KAAAJ,EAAA,gBAA8DmD,YAAA,OAAAjD,OAA0B9J,GAAA,UAAAsL,OAAAK,EAAAL,MAAAC,UAAAM,MAAA,YAA+DM,OAAQ9Q,MAAAsQ,EAAA,QAAAS,SAAA,SAAAC,GAA6CV,EAAAqK,QAAA3J,GAAgBC,WAAA,aAAuBX,EAAA3B,GAAA,KAAAJ,EAAA,kBAAAA,EAAA,YAAA+B,EAAA3B,GAAA,KAAAJ,EAAA,SAA0EkC,IAAI8H,MAAA,SAAA5H,GAAyBL,EAAA5C,IAAApB,KAAA9K,SAAA,GACv3B8O,EAAAqK,QAAA,OAAgCrK,EAAA3B,GAAA,YAAA2B,EAAA3B,GAAA,KAAAJ,EAAA,SAA6CkC,IAAI8H,MAAA,SAAA5H,GAAyB,OAAAL,EAAA0K,gBAAyB1K,EAAA3B,GAAA,oBAAA2B,EAAA3B,GAAA,KAAAJ,EAAA,UAAsD0J,IAAA,OAAAxH,IAAewG,OAAA,SAAAtG,GAA0BA,EAAAuH,mBAA0BpH,OAAQ9Q,MAAAsQ,EAAA,UAAAS,SAAA,SAAAC,GAA+CV,EAAAoG,UAAA1F,GAAkBC,WAAA,eAAyB1C,EAAA,gBAAqBE,OAAO9J,GAAA,kBAAAsL,OAAAK,EAAAL,MAAAC,UAAAM,MAAA,qBAAgFM,OAAQ9Q,MAAAsQ,EAAA5C,IAAApB,KAAA,SAAAyE,SAAA,SAAAC,GAAuDV,EAAA8H,KAAA9H,EAAA5C,IAAApB,KAAA,WAAA0E,IAAwCC,WAAA,uBAAiCX,EAAA3B,GAAA,KAAAJ,EAAA,YAA6BuC,OAAO9Q,MAAAsQ,EAAA,SAAAS,SAAA,SAAAC,GAA8CV,EAAAxT,SAAAkU,GAAiBC,WAAA,cAAwBX,EAAA3B,GAAA,KAAAJ,EAAA,SAA0BE,OAAO9J,GAAA,eAAA2T,UAAAhI,EAAAoG,WAAApG,EAAAiG,YAAgE9F,IAAK8H,MAAAjI,EAAA2G,UAAoB3G,EAAA3B,GAAA,aAAA2B,EAAA3B,GAAA,KAAAJ,EAAA,SAA8CkC,IAAI8H,MAAAjI,EAAA2K,UAAoB3K,EAAA3B,GAAA,YAAA2B,EAAA3B,GAAA,KAAA2B,EAAAsK,aAAA,QAAArM,EAAA,OAAA+B,EAAA3B,GAAA,0CAAAJ,EAAA,KAA+HE,OAAOxC,KAAAqE,EAAAsK,aAAAU,QAAA9C,OAAA,YAAmDlI,EAAA3B,GAAA,eAAA2B,EAAA3B,GAAA,0CAAA2B,EAAA/G,MAAA,GAAA+G,EAAA3B,GAAA,KAAAJ,EAAA,aAAkHmD,YAAA,cAAwBpB,EAAA3B,GAAA,KAAAJ,EAAA,eAAgCE,OAAOgK,IAAM5Y,KAAA,mBAAyB0O,EAAA,MAAA+B,EAAA3B,GAAA,yBAAA2B,EAAA3B,GAAA,KAAAJ,EAAA,eAAyEE,OAAOgK,IAAM5Y,KAAA,oBAA0B0O,EAAA,MAAA+B,EAAA3B,GAAA,uBAAA2B,EAAA3B,GAAA,KAAAJ,EAAA,eAAuEE,OAAOgK,IAAM5Y,KAAA,qBAA2B0O,EAAA,MAAA+B,EAAA3B,GAAA,uBAAA2B,EAAA3B,GAAA,KAAAJ,EAAA,UAAkEE,OAAO4C,SAAAf,EAAA5F,UAAsB,IAEpjDoE,oBCoBjByM,GAvBUtM,EAAQ,OAcjBuM,CACdf,GACAU,IAT6B,EAEb,KAEC,KAEU,MAUG,QCpBjBM,IADErN,OAFP,WAAgB,IAAaC,EAAbnP,KAAaoP,eAA0BC,EAAvCrP,KAAuCsP,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,MAA/DrP,KAA+DyP,GAA/DzP,KAA+D4S,GAA/D5S,KAA+D8Y,GAAA,0BAA/D9Y,KAA+DyP,GAAA,OAA/DzP,KAA+D4S,GAA/D5S,KAA+D8Y,GAAA,kCAEzDlJ,oBCoBjB4M,GAtBUzM,EAAQ,OAajB0M,CAXhB,KAaEF,IAT6B,EAEb,KAEC,KAEU,MAUG,QCehCG,IACAtF,YACAlF,OAAAW,GAEA7E,KAAA,kBACAzP,SAAA,GACAiN,MAAA,GACAgD,OACA8I,EAAA,KACAvG,OACAC,SAAA,SAAAlQ,GAAA,QAAAA,GAAA4P,EAAAC,EAAA,0BAEA6G,WAAA,EACA/J,aAAA9M,KAAA,MAEA2N,QAfA,eAAAtM,EAAAC,IAAAC,EAAAC,EAAAC,KAAA,SAAAC,IAAA,OAAAH,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAgBA1C,KAAAwO,IAAA,IAAAC,EAAAzO,KAAA0O,OAAAC,OAhBAnM,EAAAE,KAAA,EAiBA1C,KAAAwO,IAAAI,OAjBA,cAkBA5O,KAAAsX,EAAAG,GAAAzX,KAAAwO,KAlBAhM,EAAAE,KAAA,EAmBA1C,KAAAwO,IAAAjC,YAAA7L,OAnBA,OAmBAV,KAAAyN,YAnBAjL,EAAAmB,KAAA,wBAAAnB,EAAAQ,SAAAX,EAAArC,SAAA,yBAAAgC,EAAAmB,MAAAnD,KAAAoD,YAAA,GAqBA0U,SACAC,OADA,WAEA/X,KAAAwO,IAAApB,KAAA7O,SAAAyB,KAAAwO,IAAApB,KAAA7O,SAAAub,OACA9Z,KAAAgY,MAAAC,KAAAC,YACAlY,KAAAsX,EAAA7B,gBACAiC,KAAA1X,KAAA2c,UACA/E,MAAA5X,KAAA6X,YAGA8E,SATA,WAUA7P,SAAAC,KAAA/M,KAAAwO,IAAAjC,YAAA5K,mBAAA3B,KAAAwO,IAAApB,KAAA7O,WAEAsZ,UAZA,SAYArM,GACAxL,KAAAwL,QAAAwH,OCpEe4J,IADE1N,OAFP,WAAgB,IAAAkC,EAAApR,KAAamP,EAAAiC,EAAAhC,eAA0BC,EAAA+B,EAAA9B,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,MAAA+B,EAAA3B,GAAA2B,EAAAwB,GAAAxB,EAAA0H,GAAA,uBAAA1H,EAAA3B,GAAA,KAAAJ,EAAA,UAA+F0J,IAAA,OAAAxH,IAAewG,OAAA,SAAAtG,GAA0BA,EAAAuH,mBAA0BpH,OAAQ9Q,MAAAsQ,EAAA,UAAAS,SAAA,SAAAC,GAA+CV,EAAAoG,UAAA1F,GAAkBC,WAAA,eAAyB1C,EAAA,gBAAqBE,OAAO9J,GAAA,kBAAAsL,OAAAK,EAAAL,MAAAC,UAAAM,MAAAF,EAAA0H,GAAA,8BAAgGlH,OAAQ9Q,MAAAsQ,EAAA5C,IAAApB,KAAA,SAAAyE,SAAA,SAAAC,GAAuDV,EAAA8H,KAAA9H,EAAA5C,IAAApB,KAAA,WAAA0E,IAAwCC,WAAA,uBAAiCX,EAAA3B,GAAA,KAAAJ,EAAA,SAA0BE,OAAO9J,GAAA,eAAA2T,UAAAhI,EAAAoG,WAA8CjG,IAAK8H,MAAAjI,EAAA2G,UAAoB3G,EAAA3B,GAAA2B,EAAAwB,GAAAxB,EAAA0H,GAAA,kCAAA1H,EAAA3B,GAAA,KAAAJ,EAAA,aAAqFmD,YAAA,cAAwBpB,EAAA3B,GAAA,KAAAJ,EAAA,eAAgCE,OAAOgK,IAAM5Y,KAAA,mBAAyB0O,EAAA,MAAA+B,EAAA3B,GAAA2B,EAAAwB,GAAAxB,EAAA0H,GAAA,uBAAwD+D,YAAAzL,EAAA3D,YAAA9M,aAAkCyQ,EAAA3B,GAAA,KAAAJ,EAAA,UAAiCE,OAAO4C,SAAAf,EAAA5F,UAAsB,IAEp/BoE,oBCqBjBkN,GAvBU/M,EAAQ,OAcjBgN,CACdL,GACAE,IAT6B,EAEb,KAEC,KAEU,MAUG,QCsBhCI,IACA5F,YACAlH,SAAA8B,EACAE,OAAAW,GAEA7E,KAAA,kBACA2L,UAAA,EACAnQ,YAAA,GACApM,YAAA,GACAoO,MAAA,GACA+L,QAAA,GACAF,YAAA,EACA7I,OACA0I,kBAAA,KACAnG,OACAC,SAAA,SAAAlQ,GAAA,QAAAA,GAAA4P,EAAAC,EAAA,0BAEA6G,WAAA,IAEAlJ,QAnBA,eAAAtM,EAAAC,IAAAC,EAAAC,EAAAC,KAAA,SAAAC,IAAA,OAAAH,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAoBA1C,KAAAwO,IAAA,IAAAC,EAAAzO,KAAA0O,OAAAC,OApBAnM,EAAAE,KAAA,EAqBA1C,KAAAwO,IAAAI,OArBA,OAsBA5O,KAAAkX,kBAAAO,GAAAzX,KAAAwO,KAtBA,wBAAAhM,EAAAQ,SAAAX,EAAArC,SAAA,yBAAAgC,EAAAmB,MAAAnD,KAAAoD,YAAA,GAwBA0U,SACAC,OADA,WACA,IAAAhY,EAAAC,KACAA,KAAAwO,IAAApB,KAAA7O,SAAAyB,KAAAwO,IAAApB,KAAA7O,SAAAub,OACA9Z,KAAAgY,MAAAC,KAAAC,aACAlY,KAAAqX,YAAA,EACArX,KAAAkX,kBAAAf,MAAAnW,KAAAwJ,aACAkO,KAAA,kBAAA3X,EAAAmX,kBACAjZ,eAAA8B,EAAAyJ,YAAAzJ,EAAA3C,eACAsa,KAAA,WACA3X,EAAA4Z,UAAA,EACA5Z,EAAAwX,QAAA7G,EAAAC,EAAA,0CAEAiH,MAAA5X,KAAA6X,WACAO,QAAA,WACArY,EAAAsX,YAAA,MAIAQ,UAlBA,SAkBArM,GACAxL,KAAAwL,QAAAwH,OCrFeiK,IADE/N,OAFP,WAAgB,IAAAkC,EAAApR,KAAamP,EAAAiC,EAAAhC,eAA0BC,EAAA+B,EAAA9B,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,MAAA+B,EAAA3B,GAAA2B,EAAAwB,GAAAxB,EAAA0H,GAAA,4BAAA1H,EAAA3B,GAAA,KAAA2B,EAAA,SAAA/B,EAAA,UAAmH0J,IAAA,OAAAxH,IAAewG,OAAA,SAAAtG,GAA0BA,EAAAuH,mBAA0BpH,OAAQ9Q,MAAAsQ,EAAA,UAAAS,SAAA,SAAAC,GAA+CV,EAAAoG,UAAA1F,GAAkBC,WAAA,eAAyB1C,EAAA,gBAAqBE,OAAO9J,GAAA,kBAAAsL,OAAAK,EAAAL,MAAAC,UAAAM,MAAAF,EAAA0H,GAAA,mCAAqGlH,OAAQ9Q,MAAAsQ,EAAA5C,IAAApB,KAAA,SAAAyE,SAAA,SAAAC,GAAuDV,EAAA8H,KAAA9H,EAAA5C,IAAApB,KAAA,WAAA0E,IAAwCC,WAAA,uBAAiCX,EAAA3B,GAAA,KAAAJ,EAAA,YAA6BE,OAAOa,cAAA,EAAA3K,GAAA,eAAwCmM,OAAQ9Q,MAAAsQ,EAAA,YAAAS,SAAA,SAAAC,GAAiDV,EAAA5H,YAAAsI,GAAoBC,WAAA,iBAA2BX,EAAA3B,GAAA,KAAAJ,EAAA,YAA6BE,OAAOa,cAAA,EAAAK,cAAAW,EAAA0H,GAAA,8BAAAlI,0BAAAQ,EAAA0H,GAAA,0CAAArT,GAAA,eAAyKmM,OAAQ9Q,MAAAsQ,EAAA,YAAAS,SAAA,SAAAC,GAAiDV,EAAAhU,YAAA0U,GAAoBC,WAAA,iBAA2BX,EAAA3B,GAAA,KAAAJ,EAAA,SAA0BE,OAAO9J,GAAA,eAAA2T,UAAAhI,EAAAoG,WAAApG,EAAAiG,YAAgE9F,IAAK8H,MAAAjI,EAAA2G,UAAoB3G,EAAA3B,GAAA2B,EAAAwB,GAAAxB,EAAA0H,GAAA,gDAAA1H,EAAA/G,KAAA+G,EAAA3B,GAAA,KAAAJ,EAAA,UAAyGE,OAAO6C,WAAAhB,EAAAmG,QAAApF,SAAAf,EAAA5F,UAA+C,IAE51CoE,oBCqBjBsN,GAvBUnN,EAAQ,OAcjBoN,CACdH,GACAC,IAT6B,EAEb,KAEC,KAEU,MAUG,gCCZhC9d,UAAIC,IAAIge,KAER,IAAMC,GAAQ,IAAIzQ,IAAI0Q,SAASxQ,UAAWyQ,SACpC1hB,GAAWwhB,GAAKG,UAAU,EAAGH,GAAKI,YAAY,aAAe,IAAMC,KAAQ7hB,SAE7E8hB,GAAS,IAAIP,KACf9d,OACAse,KAAM,UACNC,KAAMhiB,GACNiiB,SAEIT,KAAM,IACNU,UAAWpd,KAAM,mBAGjB0c,KAAM,QACN1c,KAAM,gBACNqd,UAAWzC,GACX0C,MAAOP,KAAQ5hB,MAAME,OAGrBqhB,KAAM,YACN1c,KAAM,eACNqd,UAAW7G,GACX8G,MAAOP,KAAQ5hB,MAAMG,WAGrBohB,KAAM,SACN1c,KAAM,gBACNqd,UAAWtE,GACXvJ,MAAO,SAAC+N,GAAD,OACLlV,WAAYkV,EAAMvP,MAAM3F,aAE1BiV,MAAOP,KAAQ5hB,MAAMI,QAGrBmhB,KAAM,UACN1c,KAAM,YACNqd,UAAWtB,GACXuB,MAAOP,KAAQ5hB,MAAMK,SAGrBkhB,KAAM,mBACN1c,KAAM,iBACNqd,UAAWhB,GACXiB,MAAOP,KAAQ5hB,MAAMM,aAGrBihB,KAAM,IACNW,UAAWzB,OAKjB,SAAS4B,GAAgBD,GACvB,QAAS9d,OAAOb,KAAK2e,EAAMvP,OAAO/O,OAGpC+d,GAAOS,WAAW,SAAC7E,EAAI8E,EAAM3b,IACtByb,GAAe5E,IAAO4E,GAAeE,GAExC3b,GAAO/B,KAAM4Y,EAAG5Y,KAAMgO,MAAO0P,EAAK1P,QAElCjM,MAIWib,4CCrEfxe,UAAIC,IAAIkf,MAERnf,UAAIF,OAAOsf,eAAgB,EAG3B,IAAIpf,WACFG,OACAkf,GAAI,OACJC,UACArH,YAAcrJ,OACd2Q,SAAU,+BCnBZ/iB,EAAAC,SAAkBe,KAAA,WAAAC,QAA4BC,cAAA,wBAAuCC,WAAcC,MAAA,aAAAC,gBAAA,uBAAAC,aAAA,2BAAAC,UAAA,gDAAmKC,eAAkBJ,MAAA,mCAAAC,gBAAA,uBAAAI,YAAA,uBAAAC,wBAAA,uCAAAC,WAAA,+BAAAC,eAAA,kCAAAJ,cAAA,gCAAAK,kBAAA,kCAAAC,qBAAA,+CAAAC,4BAAA,yGAAAC,qBAAA,iDAAmpBC,UAAaA,SAAA,eAAAE,qBAAA,+BAAAC,mBAAA,uBAAAC,6BAAA,sDAAgNC,gBAAmBlB,MAAA,0BAAAC,gBAAA,uBAAAkB,sBAAA,2BAAAC,sBAAA,gDAAAf,YAAA,uBAAAC,wBAAA,wCAA4Se,cAAiBrB,MAAA,oCAAAsB,MAAA,SAAAC,iBAAA,+DAAAC,SAAA,cAAAC,QAAA,YAAAC,mBAAA,8BAAAC,MAAA,gBAAAC,OAAA,QAAArB,WAAA,+BAAAsB,gBAAA,oDAA2YC,cAAiB9B,MAAA,yBAAA+B,QAAA,yBCKp3DnD,EAAOC,SAAY+Q,SAAS,yBCL5B,IAAAgS,GACAC,YAAA,OACAC,YAAA,QAEA,SAAAC,EAAAC,GACA,OAAAhP,EAAAiP,EAAAD,IAEA,SAAAC,EAAAD,GACA,IAAAtZ,EAAAkZ,EAAAI,GACA,KAAAtZ,EAAA,GACA,UAAAmF,MAAA,uBAAAmU,EAAA,MACA,OAAAtZ,EAEAqZ,EAAAvf,KAAA,WACA,OAAAa,OAAAb,KAAAof,IAEAG,EAAAlY,QAAAoY,EACArjB,EAAAC,QAAAkjB,EACAA,EAAArZ,GAAA,2BClBA9J,EAAAC,SAAkB+E,KAAA,OAAAgG,QAAA,QAAAsY,SAAA,iCAAAre,YAAA,0BAAAse,UAAA,QAAAC,YAAsJ9O,KAAA,MAAApP,IAAA,gCAAkDme,MAASne,IAAA,yCAA8Coe,QAAW1e,KAAA,aAAmB2e,KAAA,eAAAC,QAAA,eAAAC,SAA2DC,MAAA,qCAAAC,MAAA,qCAAAC,IAAA,uDAAAhE,KAAA,0DAAAiE,aAAA,+DAAAC,eAAA,kBAAkUC,MAAA,2CAAAC,eAAA,6CAAAC,UAAA,yCAAAC,WAAA,sBAAAvhB,MAAA,gCAA+OwhB,eAAkBvf,KAAA,uBAAAtC,MAAA,mBAAuD8hB,cAAkBvd,WAAA,UAAsBwd,iBAAoBC,sBAAA,sDAAAC,gBAAA,SAAAC,kBAAA,SAAAC,KAAA,SAAAC,mBAAA,SAAAC,KAAA,SAAAC,MAAA,SAAAC,MAAA,SAAAC,aAAA,SAAAC,IAAA,UAAAC,SAAA,SAAAC,gBAAA,SAAAC,OAAA","file":"static/js/app.712bf3409a601e11534a.js","sourcesContent":["/**\n * Used by Vue Router and build process\n **/\n\nmodule.exports = {\n  basePath: 'access',\n  pages: {\n    index: '/index.html',\n    auth: '/access.html',\n    register: '/register.html',\n    reset: '/reset-password.html',\n    signin: '/signinhub.html',\n    changepass: '/change-password.html',\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/aliases.js","module.exports = {\n    locale: navigator.language.split('-')[0],\n    fallbackLocale: 'en',\n    enableInSFC: true\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./config/i18n.config.js\n// module id = DoET\n// module chunks = 1","module.exports = {\"lang\":\"English\",\"global\":{\"requiredField\":\"This field is required.\"},\"signinHub\":{\"title\":\"Signin Hub\",\"userNameOrEmail\":\"Username or email\",\"goToHomePage\":\"go to my homepage\",\"signupMsg\":\"new to {serviceName} ? Create an account\"},\"resetPassword\":{\"title\":\"Reset password\",\"userNameOrEmail\":\"Username or email\",\"newPassword\":\"New password\",\"newPasswordConfirmation\":\"New password confirmation\",\"goToSignIn\":\"Go to sign in\",\"setNewPassword\":\"Set a new password\",\"resetPassword\":\"Reset password\",\"defineNewPassword\":\"Define new password\",\"requestPasswordReset\":\"Request password reset\",\"requestPasswordResetSuccess\":\"We have sent password reset instructions to your e-mail address.\",\"resetPasswordSuccess\":\"Your password have been successfully changed.\"},\"password\":{\"password\":\"Password\",\"passwordRename\":\"{password}\",\"passwordConfirmation\":\"@.password.passwordRename confirmation\",\"passwordIsRequired\":\"Password is required.\",\"passwordConfirmationNotMatch\":\"Password confirmation does not match.\"},\"changePassword\":{\"title\":\"Change password\",\"userNameOrEmail\":\"Username or email\",\"requestPasswordChange\":\"Request password change\",\"changePasswordSuccess\":\"Your password has been successfully changed.\",\"newPassword\":\"New password\",\"newPasswordConfirmation\":\"New password confirmation\"},\"registerUser\":{\"title\":\"Register a new user\",\"email\":\"E-mail\",\"emailPlaceholder\":\"Optional (required for password reset)\",\"username\":\"Username\",\"hosting\":\"Hosting\",\"hostingPlaceholder\":\"Choose hosting...\",\"clear\":\"Clear\",\"create\":\"Create\",\"goToSignIn\":\"Go to sign in\",\"registerSuccess\":\"New user successfully created: {username}.\"},\"pageNotFound\":{\"title\":\"404 - Page not found\",\"content\":\"The page you are looking for is like time in quantum gravity theories, it does not exist.\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./locales/en.json\n// module id = GZzL\n// module chunks = 1","import Vue from 'vue';\nimport VueI18n from 'vue-i18n';\n\nconst config = require('../config/i18n.config');\n\nVue.use(VueI18n);\n\nconst i18n = new VueI18n({\n  locale: config.locale || 'en',\n  fallbackLocale: config.fallbackLocale || 'en',\n  messages: loadLocaleMessages(),\n});\n\nfunction loadLocaleMessages () {\n  const locales = require.context('../locales', true, /[A-Za-z0-9-_,\\s]+\\.json$/i);\n  const messages = {};\n  locales.keys().forEach(key => {\n    const matched = key.match(/([A-Za-z0-9-_]+)\\./i);\n    if (matched && matched.length > 1) {\n      const locale = matched[1];\n      messages[locale] = locales(key);\n    }\n  });\n  return messages;\n};\n\nexport default i18n;\n\n\n\n// WEBPACK FOOTER //\n// ./src/i18n.js","// @flow\n\ntype Hosting = {\n  url: string,\n  name: string,\n  description: string,\n  localizedDescription: {\n    [language: string]: string,\n  },\n  available: ?boolean,\n  availableCore: ?string\n};\n\ntype HostingList = {\n  [hostingName: string]: Hosting\n};\n\ntype LocalizedNameList = {\n  [language: string]: string,\n};\n\ntype HostingZone = {\n  name: string,\n  localizedName: LocalizedNameList,\n  hostings: HostingList\n};\n\ntype HostingZoneList = {\n  [zoneName: string]: HostingZone\n};\n\ntype HostingRegion = {\n  name: string,\n  localizedName: LocalizedNameList,\n  zones: HostingZoneList\n};\n\ntype HostingRegionList = {\n  [regionName: string]: HostingRegion\n};\n\ntype HostingDefinition = {\n  regions: HostingRegionList\n};\n\ntype HostingSelectionItem = {\n  availableCore: ?string,\n  value: string,\n  text: string,\n  description: string,\n};\n\nexport type HostingSelection = Array<HostingSelectionItem>;\n\nclass Hostings {\n  regions: HostingRegionList;\n  zones : HostingZoneList;\n  hostings : HostingList;\n  selection: HostingSelection;\n\n  constructor (hostingsData: HostingDefinition) {\n    this.selection = [];\n    const regions = hostingsData.regions;\n    Object.keys(regions).forEach(regionKey => {\n      const region = regions[regionKey];\n      const zones = region.zones;\n      Object.keys(zones).forEach(zoneKey => {\n        const zone = zones[zoneKey];\n        const hostings = zone.hostings;\n        Object.keys(hostings).forEach(hostingKey => {\n          const hosting = hostings[hostingKey];\n          let info = hosting.name || hostingKey;\n          if (hosting.description != null) info = `${info} (${hosting.description})`;\n          this.selection.push({\n            value: hostingKey,\n            text: info,\n            description: hosting.description,\n            availableCore: hosting.availableCore,\n          });\n        });\n      });\n    });\n  }\n\n  getSelection (): HostingSelection {\n    return this.selection;\n  }\n}\n\nexport default Hostings;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/models/Hostings.js","// @flow\n\nimport Pryv from 'pryv';\nimport Hostings from './Hostings.js';\nconst url = require('url');\n\ntype Permission = {\n  streamId: string,\n  level: 'read' | 'contribute' | 'manage',\n  defaultName: ?string,\n  name: ?string,\n};\n\nexport type PermissionsList = Array<Permission>;\n\ntype AppAccess = {\n  id: string,\n  type: 'app',\n  permissions: PermissionsList,\n  expires: ?number,\n  token: string,\n};\n\nexport type AppCheck = {\n  checkedPermissions: PermissionsList,\n  matchingAccess: AppAccess,\n  mismatchingAccess: AppAccess,\n};\n\nexport type NewUser = {\n  username: string,\n  server: string,\n};\n\nexport type ServiceInfos = {\n  version: string,\n  register: string,\n  access: string,\n  api: string,\n  name: string,\n  home: string,\n  support: string,\n  terms: string,\n};\n\nexport type PryvConnection = {\n  token: string,\n};\n\nexport type PryvService = {\n  // defined here\n  apiEndpointForSync: (string, string) => string,\n  mfaChallenge: (string, string) => Promise<void>,\n  mfaVerify: (string, string, string) => Promise<string>,\n  checkAppAccess: (string, string, Object) => Promise<AppCheck>,\n  createAppAccess: (string, string, Object) => Promise<AppAccess>,\n  deleteAppAccess: (string, string, string) => Promise<AppAccess>,\n  getAvailableHostings: (void) => Promise<Hostings>,\n  createUser: (string, string, string, string, string, string, string, ?string, ?string) => Promise<NewUser>,\n  checkUsernameExistence: (string) => Promise<string>,\n  getUsernameForEmail: (string) => Promise<string>,\n  requestPasswordReset: (string, string) => Promise<void>,\n  resetPassword: (string, string, string, string) => Promise<void>,\n  changePassword: (string, string, string, string) => Promise<number>,\n  loginWithThrow: (string, string, string) => Promise<PryvConnection>,\n\n  // from lib\n  info: (void) => Promise<ServiceInfos>,\n  setServiceInfo: (?ServiceInfos) => void,\n};\n\nPryv.Service.prototype.apiEndpointForSync = function apiEndpointForSync (username, token) {\n  return Pryv.Service.buildAPIEndpoint(this.infoSync(), username, token);\n};\n\n// POST/core: perform MFA challenge\nPryv.Service.prototype.mfaChallenge = async function mfaChallenge (username: string, mfaToken: string): Promise<void> {\n  await Pryv.utils.superagent\n    .post(this.apiEndpointForSync(username) + 'mfa/challenge')\n    .set('accept', 'json')\n    .set('Authorization', mfaToken)\n    .send({});\n};\n\n// POST/core: verify MFA challenge\nPryv.Service.prototype.mfaVerify = async function mfaVerify (username: string, mfaToken: string, code: string): Promise<string> {\n  const res = await Pryv.utils.superagent\n    .post(this.apiEndpointForSync(username) + 'mfa/verify')\n    .set('accept', 'json')\n    .set('Authorization', mfaToken)\n    .send({ code: code });\n  return res.body.token;\n};\n\n// POST/core: check if requested app access already exists or not,\n// answering with one of the three:\n// 1. checkedPermissions: corrected permissions if the access does not exist yet\n// 2. match: existing access with matching permissions\n// 3. mismatch: existing access with mismatching permissions\nPryv.Service.prototype.checkAppAccess = async function checkAppAccess (username: string,\n  personalToken: string, checkAppData: Object): Promise<AppCheck> {\n  const res = await Pryv.utils.superagent\n    .post(this.apiEndpointForSync(username) + 'accesses/check-app')\n    .set('accept', 'json')\n    .set('Authorization', personalToken)\n    .send(checkAppData);\n  return res.body;\n};\n\n// POST/core: create a new app access, returns the according app token\nPryv.Service.prototype.createAppAccess = async function createAppAccess (\n  username: string, personalToken: string,\n  requestData: Object): Promise<AppAccess> {\n  const res = await Pryv.utils.superagent\n    .post(this.apiEndpointForSync(username) + 'accesses')\n    .set('accept', 'json')\n    .set('Authorization', personalToken)\n    .send(requestData);\n  return res.body.access;\n};\n\n// POST/core: delete an new  access\nPryv.Service.prototype.deleteAppAccess = async function deleteAppAccess (\n  username: string, personalToken: string,\n  accessId: string): Promise<AppAccess> {\n  const res = await Pryv.utils.superagent\n    .delete(this.apiEndpointForSync(username) + 'accesses/' + accessId)\n    .set('accept', 'json')\n    .set('Authorization', personalToken)\n    .send({id: accessId});\n  return res.body.accessDeletion;\n};\n\n// ---------- REGISTER calls ----------\nfunction isFirstVersionIsEqualOrHigher (version1: string, version2: string): boolean {\n  const version1parts = version1.split('.');\n  const version2parts = version2.split('.');\n  // TODO - handle opensource version too\n\n  for (let i = 0; i < version1parts.length; ++i) {\n    // if the versions match, continue\n    if (version1parts[i] === version2parts[i]) {\n      // if the cycle reached the last minor version\n      if (version2parts.length === (i + 1)) {\n        return true;\n      } else {\n        continue;\n      }\n    } else if (version1parts[i] > version2parts[i]) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n  return false;\n}\n\n// GET/reg: retrieve all available Pryv hostings\nPryv.Service.prototype.getAvailableHostings = async function getAvailableHostings (): Promise<Hostings> {\n  const res = await Pryv.utils.superagent\n    .get(this.infoSync().register + 'hostings')\n    .set('accept', 'json');\n  return new Hostings(res.body);\n};\n\n// POST/reg: create a new Pryv user\nPryv.Service.prototype.createUser = async function createUser (\n  availableCore: string,\n  username: string,\n  password: string, email: string,\n  hosting: string, lang: string, appId: string,\n  invitation: ?string, referer: ?string): Promise<NewUser> {\n  const platformVersion = this.infoSync().version;\n  let res;\n  if (platformVersion && isFirstVersionIsEqualOrHigher(platformVersion, '1.6.0')) {\n    res = await Pryv.utils.superagent\n      .post(url.resolve(availableCore, 'users'))\n      .set('accept', 'json')\n      .send({\n        appId: appId,\n        username: username,\n        password: password,\n        email: email,\n        hosting: hosting,\n        language: lang || 'en',\n        invitationToken: invitation || 'enjoy',\n        referer: referer,\n      });\n  } else {\n    res = await Pryv.utils.superagent\n      .post(this.infoSync().register + 'user')\n      .set('accept', 'json')\n      .send({\n        appid: appId,\n        username: username,\n        password: password,\n        email: email,\n        hosting: hosting,\n        languageCode: lang || 'en',\n        invitationtoken: invitation || 'enjoy',\n        referer: referer,\n      });\n  }\n\n  return res.body;\n};\n\nPryv.Service.prototype.checkUsernameExistence = async function checkUsernameExistence (username: string): Promise<string> {\n  const res = await Pryv.utils.superagent\n    .post(this.infoSync().register + username + '/server')\n    .set('accept', 'json').send({});\n  return res.body.server;\n};\n\n// GET/reg: convert email to Pryv username\nPryv.Service.prototype.getUsernameForEmail = async function getUsernameForEmail (usernameOrEmail: string): Promise<string> {\n  if (usernameOrEmail.search('@') < 0) {\n    return usernameOrEmail;\n  }\n  const res = await Pryv.utils.superagent\n    .get(this.infoSync().register + usernameOrEmail + '/uid')\n    .set('accept', 'json');\n  return res.body.uid;\n};\n\n// ---------- RESET calls ----------\n\n// POST/core: request a password reset\nPryv.Service.prototype.requestPasswordReset = async function requestPasswordReset (username: string, appId: string): Promise<number> {\n  const res = await Pryv.utils.superagent\n    .post(this.apiEndpointForSync(username) + 'account/request-password-reset')\n    .set('accept', 'json')\n    .send({\n      appId: appId,\n      username: username,\n    });\n  return res.status;\n};\n\n// POST/core: change Pryv password using a reset token\nPryv.Service.prototype.resetPassword = async function resetPassword (username: string,\n  newPassword: string,\n  resetToken: string,\n  appId: string): Promise<number> {\n  const res = await Pryv.utils.superagent\n    .post(this.apiEndpointForSync(username) + 'account/reset-password')\n    .set('accept', 'json')\n    .send({\n      username: username,\n      newPassword: newPassword,\n      appId: appId,\n      resetToken: resetToken,\n    });\n  return res.status;\n};\n\nPryv.Service.prototype.changePassword = async function changePassword (\n  username: string,\n  oldPassword: string,\n  newPassword: string,\n  personalToken: string): Promise<number> {\n  const res = await Pryv.utils.superagent\n    .post(this.apiEndpointForSync(username) + 'account/change-password')\n    .set('accept', 'json')\n    .set('Authorization', personalToken)\n    .send({\n      oldPassword: oldPassword,\n      newPassword: newPassword,\n    });\n  return res.status;\n};\n\nPryv.Service.prototype.loginWithThrow = async function loginWithThrow (username, password, appId, originHeader) {\n  const apiEndpoint = await this.apiEndpointFor(username);\n\n  try {\n    const headers: any = { accept: 'json' };\n    originHeader = originHeader || (await this.info()).register;\n    if (!Pryv.utils.isBrowser()) {\n      headers.Origin = originHeader;\n    }\n    const res = await Pryv.utils.superagent.post(apiEndpoint + 'auth/login')\n      .set(headers)\n      .send({ username: username, password: password, appId: appId });\n\n    if (!res.body.token) {\n      throw new Error('Invalid login response: ' + res.body);\n    }\n    return new Pryv.Connection(\n      Pryv.Service.buildAPIEndpoint(\n        await this.info(),\n        username,\n        res.body.token),\n      this // Pre load Connection with service\n    );\n  } catch (e) {\n    if (e.response && e.response.body && e.response.body) {\n      const errBody = e.response.body;\n      if (errBody.error && errBody.error.message) {\n        throw new Error(errBody.error.message);\n      }\n      if (errBody.mfaToken) {\n        const e: any = new Error();\n        e.mfaToken = errBody.mfaToken;\n        throw e;\n      }\n    }\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/models/PryvServiceExtension.js","// @flow\nimport Pryv from 'pryv';\nimport type { AccessState } from './components/models/AccessStates.js';\nimport type { PryvService } from './components/models/PryvServiceExtension';\n// augment Pryv with additional functions\nimport './components/models/PryvServiceExtension';\nimport defaults from './defaults';\nimport _ from 'lodash';\n\ntype QueryParameters = {\n  key: string,\n  pryvServiceInfoUrl: string,\n  poll: string,\n  pollUrl: string; // should be removed from register's authUrl response and use \"poll\" only\n  lang?: string,\n  oauthState?: string, // ifttt\n}\n\nclass Context {\n  appId: string; // id of the web-auth app\n  language: string;\n  accessState: AccessState; // used only in the context of a \"Auth\" process\n  pollUrl: string; // used only in the context of a \"Auth\" process\n  checkAppResult: Object; // use only in the context of a \"Auth\" process after check-app\n  pryvService: PryvService;\n  user: {\n    username: string,\n    personalToken: string,\n    mfaToken: string,\n  };\n  initialized: boolean;\n\n  constructor (queryParams: QueryParameters) {\n    this.language = queryParams.lang || 'en';\n    this.appId = 'pryv-app-web-auth-3';\n    this.pollUrl = queryParams.poll || queryParams.pollUrl;\n    if (queryParams != null && queryParams.oauthState != null) {\n      this.accessState = {\n        oaccessState: queryParams.oauthState,\n      };\n    }\n\n    if (this.isAccessRequest()) {\n      // Context will set necessary serviceInfo during Context.init();\n      this.pryvService = new Pryv.Service();\n    } else {\n      const serviceInfoUrl = queryParams.pryvServiceInfoUrl || defaultPryvServiceInfoUrl();\n      this.pryvService = new Pryv.Service(serviceInfoUrl);\n    }\n    this.user = {\n      username: '',\n      personalToken: '',\n      mfaToken: '',\n    };\n    this.checkAppResult = {};\n    this.initialized = false;\n  }\n\n  async init (): Promise<void> {\n    if (this.initialized) return;\n    this.initialized = false;\n    if (this.isAccessRequest()) {\n      await this.loadAccessState();\n      this.pryvService.setServiceInfo(this.accessState.serviceInfo);\n    }\n    await this.pryvService.info();\n  }\n\n  isAccessRequest (): boolean {\n    return this.pollUrl != null;\n  }\n\n  // in Auth process load the Poll Url\n  async loadAccessState (): ?AccessState {\n    try {\n      const res = await Pryv.utils.superagent.get(this.pollUrl).set('accept', 'json');\n      this.accessState = _.merge(this.accessState, res.body);\n      return this.accessState;\n    } catch (e) {\n      console.log(e);\n      throw new Error('Invalid data from Access server');\n    }\n  }\n\n  // POST/reg: advertise updated auth state\n  async updateAccessState (accessState: AccessState): Promise<number> {\n    // always keep the following\n    if (this.accessState && this.accessState.returnURL) {\n      accessState.returnURL = this.accessState.returnURL;\n    }\n    const res = await Pryv.utils.superagent.post(this.pollUrl).send(accessState);\n    this.accessState = _.merge(this.accessState, accessState);\n    if (this.accessState.lang != null) this.language = this.accessState.lang;\n    return res.status;\n  }\n}\n\n/**\n * In case default url has not been provided\n */\nfunction defaultPryvServiceInfoUrl (): string {\n  if (defaults.DNSLess) {\n    return new URL('/reg/service/info', window.location.href).href;\n  }\n  const domain = location.hostname.split('.').slice(1).join('.') || 'pryv.me'; // should be depracted\n  return 'https://reg.' + domain + '/service/info';\n}\n\nexport default Context;\n\n\n\n// WEBPACK FOOTER //\n// ./src/context.js","<template>\n  <div id=\"app\">\n    <head>\n      <title>Auth</title>\n      <link\n        href=\"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons\"\n        rel=\"stylesheet\">\n    </head>\n    <v-app>\n      <v-content>\n        <v-container>\n          <img\n            :src=\"logoSrcUrl\"\n            height=\"50px\">\n          <router-view/>\n        </v-container>\n      </v-content>\n    </v-app>\n  </div>\n</template>\n\n<script>\nimport Context from './context.js';\n\nexport default {\n  name: 'App',\n  data: () => ({\n    title: 'App-web-auth3',\n    logoSrcUrl: null,\n  }),\n  errorCaptured (err, vm, info) {\n    alert(`[Vue warn]: Unexpected error in ${info}:\n      ${err}`);\n  },\n  async created () {\n    this.ctx = new Context(this.$route.query);\n    await this.ctx.init();\n    const assets = await this.ctx.pryvService.assets();\n    assets.setAllDefaults();\n    this.logoSrcUrl =\n      assets.relativeURL(assets._assets['app-web-auth3'].logo.url);\n  },\n};\n</script>\n\n<style>\n  #app {\n      font-family: 'Roboto', 'Avenir', Helvetica, Arial, sans-serif;\n      text-align: center;\n      padding-left: 20px;\n      padding-right: 20px;\n  }\n  h3 {\n    margin: 8px;\n    display: inline;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_vm._m(0),_vm._v(\" \"),_c('v-app',[_c('v-content',[_c('v-container',[_c('img',{attrs:{\"src\":_vm.logoSrcUrl,\"height\":\"50px\"}}),_vm._v(\" \"),_c('router-view')],1)],1)],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('head',[_c('title',[_vm._v(\"Auth\")]),_vm._v(\" \"),_c('link',{attrs:{\"href\":\"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons\",\"rel\":\"stylesheet\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4380fe64\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4380fe64\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4380fe64\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <v-text-field\n      :id=\"id\"\n      :value=\"value\"\n      :appendIcon=\"visiblePass ? 'lock_open' : 'lock'\"\n      :type=\"visiblePass ? 'text' : 'password'\"\n      :rules=\"[rules.required]\"\n      :label=\"labelPassword\"\n      @input=\"$emit('input', $event)\"\n      @click:append=\"() => (visiblePass = !visiblePass)\"/>\n\n    <v-text-field\n      v-if=\"confirmation\"\n      :id=\"`${id}Confirmation`\"\n      v-model=\"repass\"\n      :type=\"visiblePass ? 'text' : 'password'\"\n      :rules=\"[matchPassword]\"\n      :label=\"labelPasswordConfirmation\"/>\n  </div>\n</template>\n\n<script>\nimport i18n from '../../../i18n';\n\nexport default {\n  props: {\n    confirmation: {type: Boolean, default: false},\n    value: {type: String, default: ''},\n    labelPassword: {type: String, default: i18n.t('password.password')},\n    labelPasswordConfirmation: {type: String, default: i18n.t('password.passwordConfirmation')},\n    id: {type: String, default: 'password'},\n  },\n  data: () => ({\n    visiblePass: false,\n    repass: '',\n    rules: {\n      required: value => !!value || i18n.t('password.passwordIsRequired'),\n    },\n  }),\n  computed: {\n    matchPassword: function () {\n      return this.value === this.repass || i18n.t('password.passwordConfirmationNotMatch');\n    },\n  },\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/views/bits/Password.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-text-field',{attrs:{\"id\":_vm.id,\"value\":_vm.value,\"appendIcon\":_vm.visiblePass ? 'lock_open' : 'lock',\"type\":_vm.visiblePass ? 'text' : 'password',\"rules\":[_vm.rules.required],\"label\":_vm.labelPassword},on:{\"input\":function($event){return _vm.$emit('input', $event)},\"click:append\":function () { return (_vm.visiblePass = !_vm.visiblePass); }}}),_vm._v(\" \"),(_vm.confirmation)?_c('v-text-field',{attrs:{\"id\":(_vm.id + \"Confirmation\"),\"type\":_vm.visiblePass ? 'text' : 'password',\"rules\":[_vm.matchPassword],\"label\":_vm.labelPasswordConfirmation},model:{value:(_vm.repass),callback:function ($$v) {_vm.repass=$$v},expression:\"repass\"}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4e187774\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/views/bits/Password.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Password.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Password.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4e187774\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Password.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/views/bits/Password.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <v-divider class=\"mt-3 mb-2\"/>\n    <v-alert\n      :value=\"alertMsg\"\n      :type=\"alertType\"\n      transition=\"scale-transition\">\n      <span v-html=\"alertMsg\"/>\n    </v-alert>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    errorMsg: {type: String, default: ''},\n    successMsg: {type: String, default: ''},\n  },\n  computed: {\n    alertMsg: function () {\n      if (this.successMsg.length > 0) return this.successMsg;\n      if (this.errorMsg.length > 0) return this.errorMsg;\n      return '';\n    },\n    alertType: function () {\n      return this.successMsg.length > 0 ? 'success' : 'error';\n    },\n  },\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/views/bits/Alerts.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-divider',{staticClass:\"mt-3 mb-2\"}),_vm._v(\" \"),_c('v-alert',{attrs:{\"value\":_vm.alertMsg,\"type\":_vm.alertType,\"transition\":\"scale-transition\"}},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.alertMsg)}})])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-17b04082\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/views/bits/Alerts.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Alerts.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Alerts.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-17b04082\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Alerts.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/views/bits/Alerts.vue\n// module id = null\n// module chunks = ","// @flow\n\ntype SubErrorData = {\n  message: string,\n  detail: ?string,\n};\n\ntype SubErrors = Array<SubErrorData>;\n\ntype ValidationError = {\n  code: ?string,\n  message: string,\n  param: ?string,\n  path: ?string\n}\n\ntype EncapsulatedError = {\n  message: string,\n  detail: ?string,\n  data: ?any,\n  body: SubErrors,\n}\n\ntype ErrorData = {\n  message: ?string,\n  detail: ?string,\n  errors: ?SubErrors,\n  error: ?EncapsulatedError,\n};\n\ntype UnparsedError = {\n  response: {\n    body: ErrorData,\n  }\n}\n\nclass AppError {\n  msg: string;\n\n  constructor (error: string | UnparsedError) {\n    this.msg = this.parseError(error);\n  }\n\n  parseError (error: string | UnparsedError): string {\n    console.error(error);\n\n    // Error is a simple string\n    if (typeof error === 'string') {\n      return `<b>${error}</b>`;\n    }\n\n    // Error is lacking of information, declare it as unexpected\n    if (error == null || error.response == null || error.response.body == null) {\n      return `<b>${this.unexpectedError()}</b>`;\n    }\n\n    // Parse main error\n    const errorData = error.response.body;\n    const encapsulatedError = errorData.error;\n    let errorMsg = `<b>${this.parseErrorData(encapsulatedError || errorData)}</b>`;\n\n    // Parse additional sub errors\n\n    const subErrors = encapsulatedError ? encapsulatedError.body : errorData.errors;\n    errorMsg += this.parseSubErrors(subErrors);\n\n    // error formats are not unified and nested errors could appear in error:data,\n    // so handle those suberrors too\n    if (encapsulatedError && encapsulatedError.data && Array.isArray(encapsulatedError.data)) {\n      errorMsg += this.parseValidationSubErrors(encapsulatedError.data);\n    }\n\n    return errorMsg;\n  }\n\n  parseValidationSubErrors (subErrors: ?Array<ValidationError>): string {\n    let subErrorMsg = '';\n    if (subErrors != null && Array.isArray(subErrors)) {\n      subErrors.forEach(subError => {\n        subErrorMsg += `<br/>${subError.message}`;\n      });\n    }\n    return subErrorMsg;\n  }\n\n  parseSubErrors (subErrors: ?SubErrors): string {\n    let subErrorMsg = '';\n    if (subErrors != null && Array.isArray(subErrors)) {\n      subErrors.forEach(subError => {\n        subErrorMsg += `<br/>${this.parseErrorData(subError)}`;\n      });\n    }\n    return subErrorMsg;\n  }\n\n  parseErrorData (errorData: ErrorData | EncapsulatedError | SubErrorData): string {\n    return errorData.detail || errorData.message || this.unexpectedError();\n  }\n\n  unexpectedError (): string {\n    return 'Unexpected error';\n  }\n}\n\nexport default AppError;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/models/AppError.js","// @flow\n\nimport type Context from '../../../context.js';\n\nfunction closeOrRedirect (ctx: Context): void {\n  let returnUrl = ctx.accessState.returnURL;\n  // If no return URL was provided, just close the popup\n  if (returnUrl == null || returnUrl === 'false' || !returnUrl) {\n    window.close();\n  } else {\n    // Otherwise, we need to redirect to the return URL,\n    // passing the resulting parameters as querystring\n\n    if (!returnUrl.endsWith('?')) {\n      returnUrl += '?';\n    }\n\n    if (ctx.accessState.oaccessState) { // OK to use pollKey here\n      let pollKey = '';\n      if (ctx.accessState.key) {\n        pollKey = `&code=${ctx.accessState.key}`;\n      }\n      returnUrl += `state=${ctx.accessState.oaccessState}${pollKey}&poll=${ctx.pollUrl}`;\n    } else {\n      returnUrl += `prYvpoll=${ctx.pollUrl}`;\n      // the following code should be deprecated\n      for (const [key, val] of Object.entries(ctx.accessState)) {\n        if (typeof val === 'string' || typeof val === 'number') {\n          returnUrl += `&prYv${key}=${val}`;\n        }\n      }\n    }\n    location.href = returnUrl;\n  }\n}\n\nexport default closeOrRedirect;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/controller/ops/close_or_redirect.js","// @flow\n\nimport { ACCEPTED_STATUS } from '../../models/AccessStates.js';\nimport type { AccessState } from '../../models/AccessStates.js';\nimport closeOrRedirect from './close_or_redirect.js';\nimport type Context from '../../../context.js';\n\nasync function acceptAccess (ctx: Context): Promise<void> {\n  // Create a new app access\n\n  // we need to delete a previous access first\n  if (ctx.checkAppResult.mismatchingAccess) {\n    const deleteAction = await ctx.pryvService.deleteAppAccess(\n      ctx.user.username,\n      ctx.user.personalToken,\n      ctx.checkAppResult.mismatchingAccess.id);\n    if (!deleteAction.id) {\n      throw new Error('Failed removing existing access');\n    }\n  }\n\n  const requestData = {\n    permissions: ctx.checkAppResult.checkedPermissions,\n    name: ctx.accessState.requestingAppId,\n    type: 'app',\n  };\n  // optionals\n  [\n    'deviceName',\n    'token',\n    'expireAfter',\n    'clientData',\n  ].forEach((key: string) => {\n    if (typeof ctx.accessState[key] !== 'undefined') {\n      requestData[key] = ctx.accessState[key];\n    }\n  });\n\n  const appAccess = await ctx.pryvService.createAppAccess(\n    ctx.user.username,\n    ctx.user.personalToken,\n    requestData);\n\n  // Notify register about accepted state\n  const acceptedState: AccessState = {\n    status: ACCEPTED_STATUS,\n    // TODO use apiEndpoint field as well (keep username/token for older register versions)\n    apiEndpoint: ctx.pryvService.apiEndpointForSync(ctx.user.username, appAccess.token),\n    username: ctx.user.username, // to be deprecated\n    token: appAccess.token, // to be deprecated\n  };\n\n  await ctx.updateAccessState(acceptedState);\n  closeOrRedirect(ctx);\n}\n\nexport default acceptAccess;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/controller/ops/accept_access.js","// @flow\n\nimport type { PermissionsList, ServiceInfos } from './PryvServiceExtension';\n\nexport const ACCEPTED_STATUS = 'ACCEPTED';\nexport const REFUSED_STATUS = 'REFUSED';\nexport const NEED_SIGNIN_STATUS = 'NEED_SIGNIN';\n\nexport type AccessState = {\n  // common\n  status?: string,\n\n  // status=NEED_SIGNIN\n  serviceInfo?: ServiceInfos,\n  code?: number,\n  key?: string,\n  requestingAppId?: string,\n  requestedPermissions?: PermissionsList,\n  returnURL?: string,\n  poll_rate_ms?: number,\n  clientData?: Object,\n  url?: string,\n  lang?: string,\n  poll?: string,\n  pollKey?: string, // why is this still here?\n  oaccessState?: string,\n  expireAfter?: number, // to be added\n  deviceName?: string, // to be added\n  referer?: string, // to be added\n\n  // status=ACCEPTED\n  username?: string,\n  token?: string,\n  apiEndpoint?: string,\n\n  // status=REFUSED\n  reasonId?: string;\n  message?: string;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/models/AccessStates.js","// @flow\n\nimport type Context from '../../../context.js';\n\nasync function checkUsername (ctx: Context): Promise<void> {\n  // Convert email to Pryv username if needed\n  const username = ctx.user.username = await ctx.pryvService.getUsernameForEmail(ctx.user.username);\n  // Check if username exists and retrieve according server/core\n  await ctx.pryvService.checkUsernameExistence(username);\n}\n\nexport default checkUsername;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/controller/ops/check_username.js","// @flow\n\nimport type Context from '../../../context.js';\nimport checkUsername from './check_username.js';\n\nasync function resetPassword (\n  ctx: Context,\n  newPassword: string,\n  resetToken: string): Promise<void> {\n  await checkUsername(ctx);\n  await ctx.pryvService.resetPassword(\n    ctx.user.username,\n    newPassword,\n    resetToken,\n    ctx.appId);\n}\n\nexport default resetPassword;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/controller/ops/reset_password.js","// @flow\n\nimport type Context from '../../../context.js';\nimport checkUsername from './check_username.js';\n\nasync function changePassword (\n  ctx: Context,\n  oldPassword: string,\n  newPassword: string): Promise<void> {\n  await checkUsername(ctx);\n  await ctx.pryvService.changePassword(\n    ctx.user.username,\n    oldPassword,\n    newPassword,\n    ctx.user.personalToken);\n}\n\nexport default changePassword;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/controller/ops/change_password.js","// @flow\n\nimport type Context from '../../../context.js';\nimport type {AccessState} from '../../models/AccessStates.js';\nimport {ACCEPTED_STATUS} from '../../models/AccessStates.js';\nimport closeOrRedirect from './close_or_redirect.js';\nimport type { AppCheck } from '../../models/PryvServiceExtension';\n\nasync function checkAccess (\n  ctx: Context,\n  showPermissions: (?string) => void): Promise<void> {\n  const checkData = { };\n  [\n    'requestingAppId',\n    'requestedPermissions',\n    'deviceName',\n    'token',\n    'expireAfter',\n    'clientData',\n  ].forEach((key) => {\n    if (typeof ctx.accessState[key] !== 'undefined') {\n      checkData[key] = ctx.accessState[key];\n    }\n  });\n\n  // Check for existing app access\n  const checkAppResult: AppCheck = await ctx.pryvService.checkAppAccess(\n    ctx.user.username,\n    ctx.user.personalToken,\n    checkData);\n\n  // A matching access exists, returning it alongside with accepted state\n  if (checkAppResult.matchingAccess != null) {\n    const acceptedState: AccessState = {\n      status: ACCEPTED_STATUS,\n      apiEndpoint: ctx.pryvService.apiEndpointForSync(ctx.user.username, checkAppResult.matchingAccess.token),\n      username: ctx.user.username, // to be deprecated\n      token: checkAppResult.matchingAccess.token, // to be deprecated\n    };\n    await ctx.updateAccessState(acceptedState);\n    return closeOrRedirect(ctx);\n  }\n\n  // replace requested permissions by results\n  if (checkAppResult.checkedPermissions != null) {\n    ctx.accessState.requestedPermissions = checkAppResult.checkedPermissions;\n  }\n\n  // We keep checkAppResult in context for display\n  ctx.checkAppResult = checkAppResult;\n\n  // We intentionally do not check for the existence of mismatching access (checkApp.mismatch)\n  // If a mismatching access exists, we also want to create a new access anyway.\n  // Thus, the mismatching access continue to exist independantly of the new access.\n\n  showPermissions();\n}\n\nexport default checkAccess;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/controller/ops/check_access.js","// @flow\n\nimport type Context from '../../../context.js';\n\nexport type NewUser = {\n  username: string,\n  server: string,\n};\n\nasync function createUser (\n  ctx: Context,\n  availableCore: string,\n  password: string,\n  email: string,\n  hosting: string,\n): Promise<NewUser> {\n  // Create the new user\n  let referer = null;\n  if (ctx.accessState) {\n    referer = ctx.accessState.referer || ctx.accessState.requestingAppId;\n  };\n  const newUser = await ctx.pryvService.createUser(\n    availableCore,\n    ctx.user.username,\n    password,\n    email,\n    hosting,\n    ctx.language,\n    ctx.appId,\n    null, // <== invitation token should go here\n    referer);\n  return newUser;\n}\n\nexport default createUser;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/controller/ops/create_user.js","// @flow\n\nimport type Context from '../../../context.js';\nimport type {HostingSelection} from '../../models/Hostings.js';\n\nasync function loadHostings (ctx: Context): Promise<HostingSelection> {\n  const hostings = await ctx.pryvService.getAvailableHostings();\n  const hostingsSelection = hostings.getSelection();\n  return hostingsSelection;\n}\n\nexport default loadHostings;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/controller/ops/load_hostings.js","// @flow\n\nimport type Context from '../../../context.js';\nimport { NEED_SIGNIN_STATUS } from '../../models/AccessStates.js';\nimport checkUsername from './check_username.js';\nimport closeOrRedirect from './close_or_redirect.js';\nimport AppError from '../../models/AppError.js';\n\nasync function login (\n  ctx: Context,\n  password: string): Promise<void> {\n  if (ctx.accessState && ctx.accessState.status !== NEED_SIGNIN_STATUS) {\n    return closeOrRedirect(ctx);\n  }\n\n  await checkUsername(ctx);\n\n  const username = ctx.user.username;\n  // Login against Pryv\n\n  try {\n    const pryvConnection = await ctx.pryvService.loginWithThrow(\n      username,\n      password,\n      ctx.appId);\n\n    ctx.user.personalToken = pryvConnection.token || '';\n  } catch (err) {\n    // MFA is required\n    if (err.mfaToken != null) {\n      const mfaToken = err.mfaToken;\n      try {\n        await ctx.pryvService.mfaChallenge(username, mfaToken);\n        ctx.user.mfaToken = mfaToken || '';\n      } catch (err) {\n        throw new AppError('Failed to perform MFA challenge.');\n      }\n    } else {\n      const msg = err.message || 'Failed to login.';\n      throw new AppError(msg);\n    }\n  }\n}\n\nexport default login;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/controller/ops/login.js","// @flow\n\nimport type Context from '../../../context.js';\nimport {REFUSED_STATUS} from '../../models/AccessStates.js';\nimport type {AccessState} from '../../models/AccessStates.js';\nimport closeOrRedirect from './close_or_redirect.js';\n\nasync function refuseAccess (ctx: Context): Promise<void> {\n  const refusedState: AccessState = {\n    status: REFUSED_STATUS,\n    reasonId: 'REFUSED_BY_USER',\n    message: 'The user refused to give access to the requested permissions',\n  };\n\n  try {\n    // Notify register about refused state\n    await ctx.updateAccessState(refusedState);\n  } finally {\n    // Close the page anyway (the auth state update may answer 403)\n    closeOrRedirect(ctx);\n  }\n}\n\nexport default refuseAccess;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/controller/ops/refuse_access.js","// @flow\n\nimport type Context from '../../../context.js';\nimport checkUsername from './check_username.js';\n\nasync function requestResetPassword (ctx: Context): Promise<void> {\n  await checkUsername(ctx);\n  await ctx.pryvService.requestPasswordReset(ctx.user.username, ctx.appId);\n}\n\nexport default requestResetPassword;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/controller/ops/request_reset_password.js","// @flow\n\nimport type Context from '../../../context.js';\n\nexport type ServiceInfos = {\n  version: string,\n  register: string,\n  access: string,\n  api: string,\n  name: string,\n  home: string,\n  support: string,\n  terms: string,\n}\n\nasync function getServiceInfo (ctx: Context): Promise<ServiceInfos> {\n  const info = await ctx.pryvService.info();\n  return info;\n}\n\nexport default getServiceInfo;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/controller/ops/get_service_info.js","import type Context from '../../../Context.js';\nimport AppError from '../../models/AppError.js';\n\nasync function mfaVerify (\n  ctx: Context,\n  code: string): Promise<void> {\n  // Verify the MFA challenge\n  try {\n    ctx.user.personalToken = await ctx.pryvService.mfaVerify(ctx.user.username, ctx.user.mfaToken, code);\n  } catch (err) {\n    throw new AppError('MFA verification failed.');\n  }\n}\n\nexport default mfaVerify;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/controller/ops/mfa_verify.js","// @flow\n\nimport type Context from '../../context.js';\n\nimport AppError from '../models/AppError.js';\nimport acceptAccess from './ops/accept_access.js';\nimport resetPassword from './ops/reset_password.js';\nimport changePassword from './ops/change_password.js';\nimport checkAccess from './ops/check_access.js';\nimport createUser from './ops/create_user.js';\nimport loadHostings from './ops/load_hostings.js';\nimport login from './ops/login.js';\nimport refuseAccess from './ops/refuse_access.js';\nimport requestResetPassword from './ops/request_reset_password.js';\nimport getServiceInfo from './ops/get_service_info.js';\nimport checkUsername from './ops/check_username.js';\nimport mfaVerify from './ops/mfa_verify.js';\n\nfunction tryAndCatch (ctx, fun) {\n  return async (...args: Array<*>) => {\n    try {\n      return await fun(ctx, ...args);\n    } catch (err) {\n      if (err instanceof AppError) {\n        throw err;\n      } else {\n        throw new AppError(err);\n      }\n    }\n  };\n}\n\nfunction controllerFactory (ctx: Context): {} {\n  return {\n    acceptAccess: tryAndCatch(ctx, acceptAccess),\n    resetPassword: tryAndCatch(ctx, resetPassword),\n    changePassword: tryAndCatch(ctx, changePassword),\n    checkAccess: tryAndCatch(ctx, checkAccess),\n    createUser: tryAndCatch(ctx, createUser),\n    loadHostings: tryAndCatch(ctx, loadHostings),\n    login: tryAndCatch(ctx, login),\n    refuseAccess: tryAndCatch(ctx, refuseAccess),\n    requestResetPassword: tryAndCatch(ctx, requestResetPassword),\n    getServiceInfo: tryAndCatch(ctx, getServiceInfo),\n    checkUsername: tryAndCatch(ctx, checkUsername),\n    mfaVerify: tryAndCatch(ctx, mfaVerify),\n  };\n}\n\nexport default controllerFactory;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/controller/controller.js","<template>\n  <div>\n    <h1>{{ $t('registerUser.title') }}</h1>\n\n    <v-form\n      v-if=\"newUser==null\"\n      id=\"registerForm\"\n      ref=\"form\"\n      v-model=\"validForm\"\n      @submit.prevent>\n\n      <v-text-field\n        id=\"email\"\n        v-model=\"email\"\n        :label=\"$t('registerUser.email')\"\n        :placeholder=\"$t('registerUser.emailPlaceholder')\"\n      />\n\n      <v-text-field\n        id=\"username\"\n        v-model=\"ctx.user.username\"\n        :rules=\"[rules.required]\"\n        :label=\"$t('registerUser.username')\"\n      />\n\n      <Password\n        v-model=\"password\"\n        :confirmation=\"true\"/>\n\n      <v-autocomplete\n        id=\"hosting\"\n        v-model=\"hosting\"\n        :items=\"hostingsSelection\"\n        :rules=\"[rules.required]\"\n        :label=\"$t('registerUser.hosting')\"\n        :placeholder=\"$t('registerUser.hostingPlaceholder')\"\n      />\n\n      <v-btn\n        id=\"submitButton\"\n        :disabled=\"!validForm||submitting\"\n        @click=\"submit\"\n      >{{ $t('registerUser.create') }}</v-btn>\n\n      <v-btn\n        id=\"clearButton\"\n        @click=\"clear\"\n      >{{ $t('registerUser.clear') }}</v-btn>\n\n      <div>\n        By registering you agree with our\n        <a\n          target=\"_blank\"\n          href=\"https://pryv.com/terms-of-use/\">\n        terms of use</a>.\n      </div>\n    </v-form>\n    <div v-if=\"ctx.isAccessRequest()\">\n      <v-divider class=\"mt-3 mb-2\"/>\n      <router-link :to=\"{ name: 'Authorization' }\"><h3>{{ $t('registerUser.goToSignIn') }}</h3></router-link>\n    </div>\n\n    <Alerts\n      :successMsg=\"success\"\n      :errorMsg=\"error\"/>\n  </div>\n</template>\n\n<script>\nimport i18n from '../../i18n';\nimport Password from './bits/Password.vue';\nimport Alerts from './bits/Alerts.vue';\nimport Context from '../../context.js';\nimport controllerFactory from '../controller/controller.js';\n\nexport default {\n  components: {\n    Password,\n    Alerts,\n  },\n  data: () => ({\n    password: '',\n    email: '',\n    hosting: '',\n    hostingsSelection: [],\n    newUser: null,\n    submitting: false,\n    ctx: {},\n    c: null,\n    error: '',\n    success: '',\n    rules: {\n      required: value => !!value || i18n.t('global.requiredField'),\n    },\n    validForm: false,\n  }),\n  async created () {\n    this.ctx = new Context(this.$route.query);\n    await this.ctx.init();\n    this.c = controllerFactory(this.ctx);\n    // Fill selector with available hostings, preselect first one\n    this.c.loadHostings()\n      .then(this.initHostings)\n      .catch(this.showError);\n  },\n  methods: {\n    submit () {\n      if (this.$refs.form.validate()) {\n        this.submitting = true;\n\n        this.generateRandomEmailIfNeeded();\n        // get least occupied core in the hosting\n        let availableCore = '';\n        this.hostingsSelection.forEach(selection => {\n          if (selection.value === this.hosting) {\n            availableCore = selection.availableCore;\n          }\n        });\n        this.c.createUser(availableCore, this.password, this.email, this.hosting)\n          .then((newUser) => {\n            this.newUser = newUser;\n            this.success = i18n.t('registerUser.registerSuccess', {username: newUser.username});\n            if (!this.ctx.isAccessRequest()) {\n              location.href = this.ctx.pryvService.apiEndpointForSync(newUser.username);\n            }\n          })\n          .catch(this.showError)\n          .finally(() => { this.submitting = false; });\n      }\n    },\n    clear () {\n      this.$refs.form.reset();\n    },\n    initHostings (hostings) {\n      this.hostingsSelection = hostings;\n      if (this.hostingsSelection.length > 0) {\n        this.hosting = this.hostingsSelection[0].value;\n      }\n    },\n    showError (error) {\n      this.error = error.msg;\n    },\n    generateRandomEmailIfNeeded () {\n      if (this.email == null || (typeof this.email === 'string' && this.email.length === 0)) {\n        this.email = randomUsername(20) + '@pryv.io';\n      }\n    },\n  },\n};\n\nfunction randomUsername (length) {\n  let result = '';\n  let characters = 'abcdefghijklmnopqrstuvwxyz0123456789';\n  let charactersLength = characters.length;\n  for (let i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n  return result;\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/views/RegisterUser.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(_vm._s(_vm.$t('registerUser.title')))]),_vm._v(\" \"),(_vm.newUser==null)?_c('v-form',{ref:\"form\",attrs:{\"id\":\"registerForm\"},on:{\"submit\":function($event){$event.preventDefault();}},model:{value:(_vm.validForm),callback:function ($$v) {_vm.validForm=$$v},expression:\"validForm\"}},[_c('v-text-field',{attrs:{\"id\":\"email\",\"label\":_vm.$t('registerUser.email'),\"placeholder\":_vm.$t('registerUser.emailPlaceholder')},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_vm._v(\" \"),_c('v-text-field',{attrs:{\"id\":\"username\",\"rules\":[_vm.rules.required],\"label\":_vm.$t('registerUser.username')},model:{value:(_vm.ctx.user.username),callback:function ($$v) {_vm.$set(_vm.ctx.user, \"username\", $$v)},expression:\"ctx.user.username\"}}),_vm._v(\" \"),_c('Password',{attrs:{\"confirmation\":true},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_vm._v(\" \"),_c('v-autocomplete',{attrs:{\"id\":\"hosting\",\"items\":_vm.hostingsSelection,\"rules\":[_vm.rules.required],\"label\":_vm.$t('registerUser.hosting'),\"placeholder\":_vm.$t('registerUser.hostingPlaceholder')},model:{value:(_vm.hosting),callback:function ($$v) {_vm.hosting=$$v},expression:\"hosting\"}}),_vm._v(\" \"),_c('v-btn',{attrs:{\"id\":\"submitButton\",\"disabled\":!_vm.validForm||_vm.submitting},on:{\"click\":_vm.submit}},[_vm._v(_vm._s(_vm.$t('registerUser.create')))]),_vm._v(\" \"),_c('v-btn',{attrs:{\"id\":\"clearButton\"},on:{\"click\":_vm.clear}},[_vm._v(_vm._s(_vm.$t('registerUser.clear')))]),_vm._v(\" \"),_c('div',[_vm._v(\"\\n      By registering you agree with our\\n      \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://pryv.com/terms-of-use/\"}},[_vm._v(\"\\n      terms of use\")]),_vm._v(\".\\n    \")])],1):_vm._e(),_vm._v(\" \"),(_vm.ctx.isAccessRequest())?_c('div',[_c('v-divider',{staticClass:\"mt-3 mb-2\"}),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":{ name: 'Authorization' }}},[_c('h3',[_vm._v(_vm._s(_vm.$t('registerUser.goToSignIn')))])])],1):_vm._e(),_vm._v(\" \"),_c('Alerts',{attrs:{\"successMsg\":_vm.success,\"errorMsg\":_vm.error}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-eed093b6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/views/RegisterUser.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./RegisterUser.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./RegisterUser.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-eed093b6\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./RegisterUser.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/views/RegisterUser.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <h1>{{ $t('resetPassword.title') }}</h1>\n\n    <v-form\n      v-if=\"showForm\"\n      ref=\"form\"\n      v-model=\"validForm\"\n      @submit.prevent>\n\n      <v-text-field\n        id=\"usernameOrEmail\"\n        v-model=\"ctx.user.username\"\n        :rules=\"[rules.required]\"\n        :label=\"$t('resetPassword.userNameOrEmail')\"/>\n\n      <Password\n        v-if=\"resetToken!=null\"\n        v-model=\"password\"\n        :labelPassword=\"$t('resetPassword.newPassword')\"\n        :labelPasswordConfirmation=\"$t('resetPassword.newPasswordConfirmation')\"\n        :confirmation=\"true\"/>\n\n      <v-btn\n        id=\"submitButton\"\n        :disabled=\"!validForm||submitting\"\n        @click=\"submit\"\n      >{{ buttonText }}</v-btn>\n    </v-form>\n    <!--\n    // If the reset password happend during an Auth Proceess (pollUrl exists)\n    -->\n    <div v-if=\"ctx.isAccessRequest()\">\n      <v-divider class=\"mt-3 mb-2\"/>\n      <router-link :to=\"{ name: 'Authorization' }\"><h3>{{ $t('resetPassword.goToSignIn') }}</h3></router-link>\n    </div>\n\n    <Alerts\n      :successMsg=\"success\"\n      :errorMsg=\"error\"/>\n  </div>\n</template>\n\n<script>\nimport i18n from '../../i18n';\nimport Password from './bits/Password';\nimport Alerts from './bits/Alerts';\nimport Context from '../../context.js';\nimport controllerFactory from '../controller/controller.js';\n\nexport default {\n  components: {\n    Password,\n    Alerts,\n  },\n  props: {\n    resetToken: {type: String, default: null},\n  },\n  data: () => ({\n    password: '',\n    error: '',\n    success: '',\n    showForm: true,\n    submitting: false,\n    ctx: {},\n    c: null,\n    rules: {\n      required: value => !!value || i18n.t('global.requiredField'),\n    },\n    validForm: false,\n  }),\n  computed: {\n    pageTitle: function () {\n      return this.resetToken ? i18n.t('resetPassword.setNewPassword') : i18n.t('resetPassword.resetPassword');\n    },\n    buttonText: function () {\n      return this.resetToken ? i18n.t('resetPassword.defineNewPassword') : i18n.t('resetPassword.requestPasswordReset');\n    },\n  },\n  async created () {\n    this.ctx = new Context(this.$route.query);\n    await this.ctx.init();\n    this.c = controllerFactory(this.ctx);\n  },\n  methods: {\n    submit () {\n      this.ctx.user.username = this.ctx.user.username.trim();\n      if (this.$refs.form.validate()) {\n        this.submitting = true;\n        // Ask for a reset token\n        if (this.resetToken == null) {\n          this.c.requestResetPassword()\n            .then(() => {\n              this.showForm = false;\n              this.success = i18n.t('resetPassword.requestPasswordResetSuccess');\n            })\n            .catch(this.showError)\n            .finally(() => { this.submitting = false; });\n        } else {\n          // If we already got a reset token, we can change the password\n          this.c.resetPassword(this.password, this.resetToken)\n            .then(() => {\n              this.showForm = false;\n              this.success = i18n.t('resetPassword.resetPasswordSuccess');\n            })\n            .catch(this.showError)\n            .finally(() => { this.submitting = false; });\n        }\n      }\n    },\n    showError (error) {\n      this.error = error.msg;\n    },\n  },\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/views/ResetPassword.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(_vm._s(_vm.$t('resetPassword.title')))]),_vm._v(\" \"),(_vm.showForm)?_c('v-form',{ref:\"form\",on:{\"submit\":function($event){$event.preventDefault();}},model:{value:(_vm.validForm),callback:function ($$v) {_vm.validForm=$$v},expression:\"validForm\"}},[_c('v-text-field',{attrs:{\"id\":\"usernameOrEmail\",\"rules\":[_vm.rules.required],\"label\":_vm.$t('resetPassword.userNameOrEmail')},model:{value:(_vm.ctx.user.username),callback:function ($$v) {_vm.$set(_vm.ctx.user, \"username\", $$v)},expression:\"ctx.user.username\"}}),_vm._v(\" \"),(_vm.resetToken!=null)?_c('Password',{attrs:{\"labelPassword\":_vm.$t('resetPassword.newPassword'),\"labelPasswordConfirmation\":_vm.$t('resetPassword.newPasswordConfirmation'),\"confirmation\":true},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}):_vm._e(),_vm._v(\" \"),_c('v-btn',{attrs:{\"id\":\"submitButton\",\"disabled\":!_vm.validForm||_vm.submitting},on:{\"click\":_vm.submit}},[_vm._v(_vm._s(_vm.buttonText))])],1):_vm._e(),_vm._v(\" \"),(_vm.ctx.isAccessRequest())?_c('div',[_c('v-divider',{staticClass:\"mt-3 mb-2\"}),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":{ name: 'Authorization' }}},[_c('h3',[_vm._v(_vm._s(_vm.$t('resetPassword.goToSignIn')))])])],1):_vm._e(),_vm._v(\" \"),_c('Alerts',{attrs:{\"successMsg\":_vm.success,\"errorMsg\":_vm.error}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0a93cc86\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/views/ResetPassword.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ResetPassword.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ResetPassword.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0a93cc86\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ResetPassword.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/views/ResetPassword.vue\n// module id = null\n// module chunks = ","<template>\n  <v-dialog\n    v-model=\"dialog\"\n    width=\"600\"\n    persistent>\n    <v-card>\n      <v-card-title\n        id=\"appIdText\"\n        class=\"headline grey lighten-2\">\n        <span><b>{{ accessState.requestingAppId }}</b></span>\n      </v-card-title>\n      <v-card-text style=\"text-align:left\">\n        <h4>Is requesting permission:</h4>\n        <ul>\n          <li\n            v-for=\"(permission, index) in accessState.requestedPermissions\"\n            :key=\"index\">\n            to {{ permission.level.toLowerCase() }} <u>{{ permission.streamId === '*' ? '* (all data)' : permission.name || permission.defaultName }}</u>\n          </li>\n        </ul>\n        <span\n          v-if=\"expire\"\n          style=\"text-align:left\">\n          <b>will expire after:</b> {{ accessState.expireAfter }}s\n        </span>\n        <br>\n        <span\n          v-if=\"consentMsg\"\n          v-html=\"consentMsg\"/>\n      </v-card-text>\n      <v-alert\n        v-if=\"accessMismatch\"\n        :value=\"accessMismatch\"\n        :type=\"alertType\"\n        transition=\"scale-transition\"\n        style=\"text-align:left\">\n        <b>A different access was already given to this app. Do you want to replace it?</b>\n      </v-alert>\n      <v-divider/>\n      <v-card-actions>\n        <v-spacer/>\n        <v-btn\n          id=\"refusePermissions\"\n          @click=\"closeDialog('refused')\"\n        >Reject</v-btn>\n        <v-btn\n          id=\"acceptPermissions\"\n          @click=\"closeDialog('accepted')\"\n        >Accept</v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport marked from 'marked';\nexport default {\n  props: {\n    ctx: { type: Object, default: () => {} },\n  },\n  data: () => ({\n    dialog: true,\n    accessState: null,\n    checkAppResult: null,\n  }),\n\n  computed: {\n    consentMsg: function () {\n      if (this.ctx.accessState.clientData != null) {\n        const description = this.ctx.accessState.clientData['app-web-auth:description'];\n        return description != null ? marked(description.content) : '';\n      }\n    },\n    accessMismatch: function () {\n      return (this.ctx.checkAppResult.mismatchingAccess != null);\n    },\n    expire: function () {\n      return (this.ctx.accessState.expireAfter != null);\n    },\n  },\n  created: function () {\n    this.accessState = this.ctx.accessState;\n    this.checkAppResult = this.ctx.checkAppResult;\n  },\n  methods: {\n    closeDialog (acceptOrReject) {\n      this.dialog = false;\n      this.$emit(acceptOrReject);\n    },\n  },\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/views/bits/Permissions.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"width\":\"600\",\"persistent\":\"\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline grey lighten-2\",attrs:{\"id\":\"appIdText\"}},[_c('span',[_c('b',[_vm._v(_vm._s(_vm.accessState.requestingAppId))])])]),_vm._v(\" \"),_c('v-card-text',{staticStyle:{\"text-align\":\"left\"}},[_c('h4',[_vm._v(\"Is requesting permission:\")]),_vm._v(\" \"),_c('ul',_vm._l((_vm.accessState.requestedPermissions),function(permission,index){return _c('li',{key:index},[_vm._v(\"\\n          to \"+_vm._s(permission.level.toLowerCase())+\" \"),_c('u',[_vm._v(_vm._s(permission.streamId === '*' ? '* (all data)' : permission.name || permission.defaultName))])])}),0),_vm._v(\" \"),(_vm.expire)?_c('span',{staticStyle:{\"text-align\":\"left\"}},[_c('b',[_vm._v(\"will expire after:\")]),_vm._v(\" \"+_vm._s(_vm.accessState.expireAfter)+\"s\\n      \")]):_vm._e(),_vm._v(\" \"),_c('br'),_vm._v(\" \"),(_vm.consentMsg)?_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.consentMsg)}}):_vm._e()]),_vm._v(\" \"),(_vm.accessMismatch)?_c('v-alert',{staticStyle:{\"text-align\":\"left\"},attrs:{\"value\":_vm.accessMismatch,\"type\":_vm.alertType,\"transition\":\"scale-transition\"}},[_c('b',[_vm._v(\"A different access was already given to this app. Do you want to replace it?\")])]):_vm._e(),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"id\":\"refusePermissions\"},on:{\"click\":function($event){return _vm.closeDialog('refused')}}},[_vm._v(\"Reject\")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"id\":\"acceptPermissions\"},on:{\"click\":function($event){return _vm.closeDialog('accepted')}}},[_vm._v(\"Accept\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1c96ce6c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/views/bits/Permissions.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <h1>Sign in</h1>\n\n    <Permissions\n      v-if=\"ctx.checkAppResult.checkedPermissions != null\"\n      :ctx=\"ctx\"\n      @accepted=\"accept\"\n      @refused=\"refuse\"\n    />\n\n    <!--v-model below may be replaced by v-if-->\n    <v-dialog\n      v-model=\"mfaActivated\"\n      persistent\n      width=\"600\">\n      <v-card>\n        <v-card-title\n          class=\"headline grey lighten-2\"\n        >MFA verification</v-card-title\n        >\n        <v-text-field\n          id=\"mfaCode\"\n          v-model=\"mfaCode\"\n          :rules=\"[rules.required]\"\n          class=\"ma-3\"\n          label=\"MFA code\"\n        />\n        <v-card-actions>\n          <v-spacer />\n          <v-btn\n            @click=\"\n              ctx.user.mfaToken = '';\n              mfaCode = '';\n            \"\n          >Cancel</v-btn\n          >\n          <v-btn @click=\"handleMFA()\">Ok</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n    <v-form\n      ref=\"form\"\n      v-model=\"validForm\"\n      @submit.prevent>\n      <v-text-field\n        id=\"usernameOrEmail\"\n        v-model=\"ctx.user.username\"\n        :rules=\"[rules.required]\"\n        label=\"Username or email\"\n      />\n\n      <Password v-model=\"password\" />\n\n      <v-btn\n        id=\"submitButton\"\n        :disabled=\"!validForm || submitting\"\n        @click=\"submit\"\n      >Sign In</v-btn\n      >\n\n      <v-btn @click=\"refuse\">Cancel</v-btn>\n\n      <div v-if=\"serviceInfos.support\">\n        Feel free to reach our\n        <a\n          :href=\"serviceInfos.support\"\n          target=\"_blank\"> helpdesk</a>\n        if you have questions.\n      </div>\n    </v-form>\n\n    <v-divider class=\"mt-3 mb-2\" />\n\n    <router-link\n      :to=\"{ name: 'RegisterUser' }\"\n    ><h3>Create an account</h3></router-link\n    >\n\n    <router-link\n      :to=\"{ name: 'ResetPassword' }\"\n    ><h3>Forgot password</h3></router-link\n    >\n\n    <router-link\n      :to=\"{ name: 'ChangePassword' }\"\n    ><h3>Change password</h3></router-link\n    >\n\n    <Alerts :errorMsg=\"error\" />\n  </div>\n</template>\n\n<script>\nimport Password from './bits/Password.vue';\nimport Permissions from './bits/Permissions.vue';\nimport Alerts from './bits/Alerts.vue';\nimport Context from '../../context.js';\nimport controllerFactory from '../controller/controller.js';\n\nexport default {\n  components: {\n    Password,\n    Permissions,\n    Alerts,\n  },\n  data: () => ({\n    password: '',\n    personalToken: '',\n    mfaToken: '',\n    mfaCode: '',\n    error: '',\n    checkedPermissions: null,\n    checkAppResult: null,\n    serviceInfos: {},\n    submitting: false,\n    c: null,\n    ctx: {},\n    rules: {\n      required: (value) => !!value || 'This field is required.',\n      email: (value) => /.+@.+/.test(value) || 'E-mail must be valid',\n    },\n    validForm: false,\n  }),\n  computed: {\n    mfaActivated: {\n      get: function () {\n        return this.ctx.user.mfaToken !== '';\n      },\n    },\n  },\n  async created () {\n    this.ctx = new Context(this.$route.query);\n    await this.ctx.init();\n    this.c = controllerFactory(this.ctx);\n    this.c\n      .getServiceInfo()\n      .then(this.showInfos)\n      .catch(this.showError);\n  },\n  methods: {\n    async submit () {\n      this.ctx.user.username = this.ctx.user.username.trim();\n      if (this.$refs.form.validate()) {\n        this.submitting = true;\n        try {\n          await this.c.login(this.password);\n          if (!this.ctx.accessState) {\n            throw new Error('Context access state not defined. Verify that you are performing an Auth request process and either \"poll\" is specified in query parameters.');\n          }\n          if (!this.mfaActivated) {\n            await this.c.checkAccess(this.showPermissions);\n          }\n        } catch (err) {\n          this.showError(err);\n        } finally {\n          this.submitting = false;\n        }\n      }\n    },\n    // Handle provided MFA code\n    async handleMFA () {\n      try {\n        await this.c.mfaVerify(this.mfaCode);\n        await this.c.checkAccess(this.showPermissions);\n      } catch (err) {\n        this.showError(err);\n      } finally {\n        this.ctx.user.mfaToken = '';\n      }\n    },\n    // Print requested permissions to the user\n    showPermissions () {\n      this.checkAppResult = this.ctx.checkAppResult;\n      this.checkedPermissions = this.ctx.checkedPermissions;\n    },\n    // The user accepts the requested permissions\n    accept () {\n      this.c.acceptAccess().catch(this.showError);\n    },\n    // The user refuses the requested permissions\n    refuse () {\n      this.c.refuseAccess().catch(this.showError);\n    },\n    showError (error) {\n      this.error = error.msg || error.message;\n    },\n    showInfos (infos) {\n      this.serviceInfos = infos;\n    },\n  },\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/views/Authorization.vue","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Permissions.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Permissions.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1c96ce6c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Permissions.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/views/bits/Permissions.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(\"Sign in\")]),_vm._v(\" \"),(_vm.ctx.checkAppResult.checkedPermissions != null)?_c('Permissions',{attrs:{\"ctx\":_vm.ctx},on:{\"accepted\":_vm.accept,\"refused\":_vm.refuse}}):_vm._e(),_vm._v(\" \"),_c('v-dialog',{attrs:{\"persistent\":\"\",\"width\":\"600\"},model:{value:(_vm.mfaActivated),callback:function ($$v) {_vm.mfaActivated=$$v},expression:\"mfaActivated\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline grey lighten-2\"},[_vm._v(\"MFA verification\")]),_vm._v(\" \"),_c('v-text-field',{staticClass:\"ma-3\",attrs:{\"id\":\"mfaCode\",\"rules\":[_vm.rules.required],\"label\":\"MFA code\"},model:{value:(_vm.mfaCode),callback:function ($$v) {_vm.mfaCode=$$v},expression:\"mfaCode\"}}),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{on:{\"click\":function($event){_vm.ctx.user.mfaToken = '';\n            _vm.mfaCode = '';}}},[_vm._v(\"Cancel\")]),_vm._v(\" \"),_c('v-btn',{on:{\"click\":function($event){return _vm.handleMFA()}}},[_vm._v(\"Ok\")])],1)],1)],1),_vm._v(\" \"),_c('v-form',{ref:\"form\",on:{\"submit\":function($event){$event.preventDefault();}},model:{value:(_vm.validForm),callback:function ($$v) {_vm.validForm=$$v},expression:\"validForm\"}},[_c('v-text-field',{attrs:{\"id\":\"usernameOrEmail\",\"rules\":[_vm.rules.required],\"label\":\"Username or email\"},model:{value:(_vm.ctx.user.username),callback:function ($$v) {_vm.$set(_vm.ctx.user, \"username\", $$v)},expression:\"ctx.user.username\"}}),_vm._v(\" \"),_c('Password',{model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_vm._v(\" \"),_c('v-btn',{attrs:{\"id\":\"submitButton\",\"disabled\":!_vm.validForm || _vm.submitting},on:{\"click\":_vm.submit}},[_vm._v(\"Sign In\")]),_vm._v(\" \"),_c('v-btn',{on:{\"click\":_vm.refuse}},[_vm._v(\"Cancel\")]),_vm._v(\" \"),(_vm.serviceInfos.support)?_c('div',[_vm._v(\"\\n      Feel free to reach our\\n      \"),_c('a',{attrs:{\"href\":_vm.serviceInfos.support,\"target\":\"_blank\"}},[_vm._v(\" helpdesk\")]),_vm._v(\"\\n      if you have questions.\\n    \")]):_vm._e()],1),_vm._v(\" \"),_c('v-divider',{staticClass:\"mt-3 mb-2\"}),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":{ name: 'RegisterUser' }}},[_c('h3',[_vm._v(\"Create an account\")])]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":{ name: 'ResetPassword' }}},[_c('h3',[_vm._v(\"Forgot password\")])]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":{ name: 'ChangePassword' }}},[_c('h3',[_vm._v(\"Change password\")])]),_vm._v(\" \"),_c('Alerts',{attrs:{\"errorMsg\":_vm.error}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5df3d9d2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/views/Authorization.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Authorization.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Authorization.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5df3d9d2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Authorization.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/views/Authorization.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(_vm._s(_vm.$t('pageNotFound.title')))]),_vm._v(\"\\n  \"+_vm._s(_vm.$t('pageNotFound.content'))+\"\\n\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7e8fcdcf\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/views/PageNotFound.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nvar __vue_script__ = null\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7e8fcdcf\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./PageNotFound.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/views/PageNotFound.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <h1>{{ $t('signinHub.title') }}</h1>\n\n    <v-form\n      ref=\"form\"\n      v-model=\"validForm\"\n      @submit.prevent>\n\n      <v-text-field\n        id=\"usernameOrEmail\"\n        v-model=\"ctx.user.username\"\n        :rules=\"[rules.required]\"\n        :label=\"$t('signinHub.userNameOrEmail')\"/>\n\n      <v-btn\n        id=\"submitButton\"\n        :disabled=\"!validForm\"\n        @click=\"submit\"\n      >{{ $t('signinHub.goToHomePage') }}</v-btn>\n\n    </v-form>\n\n    <v-divider class=\"mt-3 mb-2\"/>\n    <router-link :to=\"{ name: 'RegisterUser' }\"><h3>{{ $t('signinHub.signupMsg', {serviceName: serviceInfo.name}) }}</h3></router-link>\n\n    <Alerts\n      :errorMsg=\"error\"/>\n  </div>\n</template>\n\n<script>\nimport i18n from '../../i18n';\nimport Alerts from './bits/Alerts';\nimport Context from '../../context.js';\nimport controllerFactory from '../controller/controller.js';\n\nexport default {\n  components: {\n    Alerts,\n  },\n  data: () => ({\n    username: '',\n    error: '',\n    ctx: {},\n    c: null,\n    rules: {\n      required: value => !!value || i18n.t('global.requiredField'),\n    },\n    validForm: false,\n    serviceInfo: {name: ''},\n  }),\n  async created () {\n    this.ctx = new Context(this.$route.query);\n    await this.ctx.init();\n    this.c = controllerFactory(this.ctx);\n    this.serviceInfo = await this.ctx.pryvService.info();\n  },\n  methods: {\n    submit () {\n      this.ctx.user.username = this.ctx.user.username.trim();\n      if (this.$refs.form.validate()) {\n        this.c.checkUsername()\n          .then(this.toMyPryv)\n          .catch(this.showError);\n      }\n    },\n    toMyPryv () {\n      location.href = this.ctx.pryvService.apiEndpointForSync(this.ctx.user.username);\n    },\n    showError (error) {\n      this.error = error.msg;\n    },\n  },\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/views/SigninHub.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(_vm._s(_vm.$t('signinHub.title')))]),_vm._v(\" \"),_c('v-form',{ref:\"form\",on:{\"submit\":function($event){$event.preventDefault();}},model:{value:(_vm.validForm),callback:function ($$v) {_vm.validForm=$$v},expression:\"validForm\"}},[_c('v-text-field',{attrs:{\"id\":\"usernameOrEmail\",\"rules\":[_vm.rules.required],\"label\":_vm.$t('signinHub.userNameOrEmail')},model:{value:(_vm.ctx.user.username),callback:function ($$v) {_vm.$set(_vm.ctx.user, \"username\", $$v)},expression:\"ctx.user.username\"}}),_vm._v(\" \"),_c('v-btn',{attrs:{\"id\":\"submitButton\",\"disabled\":!_vm.validForm},on:{\"click\":_vm.submit}},[_vm._v(_vm._s(_vm.$t('signinHub.goToHomePage')))])],1),_vm._v(\" \"),_c('v-divider',{staticClass:\"mt-3 mb-2\"}),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":{ name: 'RegisterUser' }}},[_c('h3',[_vm._v(_vm._s(_vm.$t('signinHub.signupMsg', {serviceName: _vm.serviceInfo.name})))])]),_vm._v(\" \"),_c('Alerts',{attrs:{\"errorMsg\":_vm.error}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f9356cc0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/views/SigninHub.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SigninHub.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SigninHub.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f9356cc0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./SigninHub.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/views/SigninHub.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <h1>{{ $t('changePassword.title') }}</h1>\n    <v-form\n      v-if=\"showForm\"\n      ref=\"form\"\n      v-model=\"validForm\"\n      @submit.prevent>\n      <v-text-field\n        id=\"usernameOrEmail\"\n        v-model=\"ctx.user.username\"\n        :rules=\"[rules.required]\"\n        :label=\"$t('changePassword.userNameOrEmail')\"/>\n      <Password\n        v-model=\"oldPassword\"\n        :confirmation=\"false\"\n        :id=\"'oldPassword'\"\n      />\n      <Password\n        v-model=\"newPassword\"\n        :confirmation=\"true\"\n        :labelPassword=\"$t('changePassword.newPassword')\"\n        :labelPasswordConfirmation=\"$t('changePassword.newPasswordConfirmation')\"\n        :id=\"'newPassword'\"\n      />\n      <v-btn\n        id=\"submitButton\"\n        :disabled=\"!validForm || submitting\"\n        @click=\"submit\"\n      >{{ $t('changePassword.requestPasswordChange') }}</v-btn\n      >\n    </v-form>\n    <Alerts\n      :successMsg=\"success\"\n      :errorMsg=\"error\" />\n  </div>\n</template>\n\n<script>\nimport i18n from '../../i18n';\nimport Password from './bits/Password';\nimport Alerts from './bits/Alerts';\nimport controllerFactory from '../controller/controller.js';\nimport Context from '../../context.js';\n\nexport default {\n  components: {\n    Password,\n    Alerts,\n  },\n  data: () => ({\n    showForm: true,\n    oldPassword: '',\n    newPassword: '',\n    error: '',\n    success: '',\n    submitting: false,\n    ctx: {},\n    controllerFactory: null,\n    rules: {\n      required: (value) => !!value || i18n.t('global.requiredField'),\n    },\n    validForm: false,\n  }),\n  async created () {\n    this.ctx = new Context(this.$route.query);\n    await this.ctx.init();\n    this.controllerFactory = controllerFactory(this.ctx);\n  },\n  methods: {\n    submit () {\n      this.ctx.user.username = this.ctx.user.username.trim();\n      if (this.$refs.form.validate()) {\n        this.submitting = true;\n        this.controllerFactory.login(this.oldPassword)\n          .then(() => this.controllerFactory\n            .changePassword(this.oldPassword, this.newPassword))\n          .then(() => {\n            this.showForm = false;\n            this.success = i18n.t('changePassword.changePasswordSuccess');\n          })\n          .catch(this.showError)\n          .finally(() => {\n            this.submitting = false;\n          });\n      }\n    },\n    showError (error) {\n      this.error = error.msg;\n    },\n  },\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/views/ChangePassword.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(_vm._s(_vm.$t('changePassword.title')))]),_vm._v(\" \"),(_vm.showForm)?_c('v-form',{ref:\"form\",on:{\"submit\":function($event){$event.preventDefault();}},model:{value:(_vm.validForm),callback:function ($$v) {_vm.validForm=$$v},expression:\"validForm\"}},[_c('v-text-field',{attrs:{\"id\":\"usernameOrEmail\",\"rules\":[_vm.rules.required],\"label\":_vm.$t('changePassword.userNameOrEmail')},model:{value:(_vm.ctx.user.username),callback:function ($$v) {_vm.$set(_vm.ctx.user, \"username\", $$v)},expression:\"ctx.user.username\"}}),_vm._v(\" \"),_c('Password',{attrs:{\"confirmation\":false,\"id\":'oldPassword'},model:{value:(_vm.oldPassword),callback:function ($$v) {_vm.oldPassword=$$v},expression:\"oldPassword\"}}),_vm._v(\" \"),_c('Password',{attrs:{\"confirmation\":true,\"labelPassword\":_vm.$t('changePassword.newPassword'),\"labelPasswordConfirmation\":_vm.$t('changePassword.newPasswordConfirmation'),\"id\":'newPassword'},model:{value:(_vm.newPassword),callback:function ($$v) {_vm.newPassword=$$v},expression:\"newPassword\"}}),_vm._v(\" \"),_c('v-btn',{attrs:{\"id\":\"submitButton\",\"disabled\":!_vm.validForm || _vm.submitting},on:{\"click\":_vm.submit}},[_vm._v(_vm._s(_vm.$t('changePassword.requestPasswordChange')))])],1):_vm._e(),_vm._v(\" \"),_c('Alerts',{attrs:{\"successMsg\":_vm.success,\"errorMsg\":_vm.error}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-00dcecce\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/views/ChangePassword.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ChangePassword.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ChangePassword.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-00dcecce\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ChangePassword.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/views/ChangePassword.vue\n// module id = null\n// module chunks = ","import Vue from 'vue';\nimport i18n from '../i18n';\nimport VueRouter from 'vue-router';\nimport RegisterUser from '@/components/views/RegisterUser';\nimport ResetPassword from '@/components/views/ResetPassword';\nimport Authorization from '@/components/views/Authorization';\nimport PageNotFound from '@/components/views/PageNotFound';\nimport SigninHub from '@/components/views/SigninHub';\nimport ChangePassword from '@/components/views/ChangePassword';\nimport Aliases from './aliases.js';\n\nVue.use(VueRouter);\n\nconst path = (new URL(document.location)).pathname;\nconst basePath = path.substring(0, path.lastIndexOf('/access/')) + '/' + Aliases.basePath;\n\nlet Router = new VueRouter({\n  i18n,\n  mode: 'history',\n  base: basePath,\n  routes: [\n    {\n      path: '/',\n      redirect: {name: 'Authorization'},\n    },\n    {\n      path: '/auth',\n      name: 'Authorization',\n      component: Authorization,\n      alias: Aliases.pages.auth,\n    },\n    {\n      path: '/register',\n      name: 'RegisterUser',\n      component: RegisterUser,\n      alias: Aliases.pages.register,\n    },\n    {\n      path: '/reset',\n      name: 'ResetPassword',\n      component: ResetPassword,\n      props: (route) => ({\n        resetToken: route.query.resetToken,\n      }),\n      alias: Aliases.pages.reset,\n    },\n    {\n      path: '/signin',\n      name: 'SigninHub',\n      component: SigninHub,\n      alias: Aliases.pages.signin,\n    },\n    {\n      path: '/change-password',\n      name: 'ChangePassword',\n      component: ChangePassword,\n      alias: Aliases.pages.changepass,\n    },\n    {\n      path: '*',\n      component: PageNotFound,\n    },\n  ],\n});\n\nfunction hasQueryParams (route) {\n  return !!Object.keys(route.query).length;\n}\n\nRouter.beforeEach((to, from, next) => {\n  if (!hasQueryParams(to) && hasQueryParams(from)) {\n    // Persist query parameters between pages\n    next({ name: to.name, query: from.query });\n  } else {\n    next();\n  }\n});\n\nexport default Router;\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue';\nimport i18n from './i18n';\nimport App from './App';\nimport router from './router';\nimport Vuetify from 'vuetify';\nimport 'vuetify/dist/vuetify.min.css';\n\nVue.use(Vuetify);\n\nVue.config.productionTip = false;\n\n/* eslint-disable no-new */\nnew Vue({\n  i18n,\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>',\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = {\"lang\":\"Franais\",\"global\":{\"requiredField\":\"Ce champ est requis.\"},\"signinHub\":{\"title\":\"Signin Hub\",\"userNameOrEmail\":\"Identifiant ou email\",\"goToHomePage\":\"aller  ma page d'entre\",\"signupMsg\":\"nouveau sur {serviceName} ? Creez un compte.\"},\"resetPassword\":{\"title\":\"Rinitialisation du mot de passe\",\"userNameOrEmail\":\"Identifiant ou email\",\"newPassword\":\"Nouveau mot de passe\",\"newPasswordConfirmation\":\"Confirmation du nouveau mot de passe\",\"goToSignIn\":\"Aller  ma page de connexion\",\"setNewPassword\":\"Dfinir un nouveau mot de passe\",\"resetPassword\":\"Rinitialiser le mot de passe\",\"defineNewPassword\":\"Dfinir le nouveau mot de passe\",\"requestPasswordReset\":\"Demander la rinitialisation du mot de passe\",\"requestPasswordResetSuccess\":\"Nous avons envoy les instructions de rinitialisation de votre mot de passe sur votre adresse e-mail.\",\"resetPasswordSuccess\":\"Votre mot de passe a t modifi avec succs.\"},\"password\":{\"password\":\"Mot de passe\",\"passwordConfirmation\":\"Confirmation du mot de passe\",\"passwordIsRequired\":\"Mot de passe requis.\",\"passwordConfirmationNotMatch\":\"La confirmation du mot de passe ne correspond pas.\"},\"changePassword\":{\"title\":\"Changer le mot de passe\",\"userNameOrEmail\":\"Identifiant ou email\",\"requestPasswordChange\":\"Modifier le mot de passe\",\"changePasswordSuccess\":\"Votre mot de passe a t modifi avec succs.\",\"newPassword\":\"Nouveau mot de passe\",\"newPasswordConfirmation\":\"Confirmation du nouveau mot de passe\"},\"registerUser\":{\"title\":\"Enregistrer un nouvel utilisateur\",\"email\":\"E-mail\",\"emailPlaceholder\":\"Facultatif (requis pour la rinitialisation du mot de passe)\",\"username\":\"Identifiant\",\"hosting\":\"Hbergeur\",\"hostingPlaceholder\":\"Choisissez l'hbergement...\",\"clear\":\"Rinitialiser\",\"create\":\"Crer\",\"goToSignIn\":\"Aller  ma page de connexion\",\"registerSuccess\":\"Nouvel utilisateur cr avec succs: {username}.\"},\"pageNotFound\":{\"title\":\"404 - Page introuvable\",\"content\":\"\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./locales/fr.json\n// module id = VuYv\n// module chunks = 1","/**\n * App Web auth 3 can be built in two flavors to discover serviceInfoUrl\n * 1. DNSLess = false : look for https://reg.{domain of the web page}/service/info\n * 2. DNSLess = true : look for http(s)://{hostname}/reg/service/info\n */\nmodule.exports = { DNSLess: false };\n\n\n\n// WEBPACK FOOTER //\n// ./src/defaults.js","var map = {\n\t\"./en.json\": \"GZzL\",\n\t\"./fr.json\": \"VuYv\"\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"k2il\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./locales [A-Za-z0-9-_,\\s]+\\.json$/\n// module id = k2il\n// module chunks = 1","module.exports = {\"name\":\"pryv\",\"version\":\"2.1.4\",\"homepage\":\"https://github.com/pryv/lib-js\",\"description\":\"Pryv Javascript Library\",\"keywords\":[\"Pryv\"],\"repository\":{\"type\":\"git\",\"url\":\"git://github.com/pryv/lib-js\"},\"bugs\":{\"url\":\"https://github.com/pryv/lib-js/issues\"},\"author\":{\"name\":\"Pryv S.A.\"},\"main\":\"src/index.js\",\"license\":\"BSD-3-Clause\",\"scripts\":{\"setup\":\"./scripts/setup-environment-dev.sh\",\"build\":\"webpack --config webpack.config.js\",\"doc\":\"node node_modules/jsdoc/jsdoc.js -c .jsdoc-conf.json\",\"test\":\"mocha --reporter spec  test/**/*.test.js --timeout 3000\",\"test-debug\":\"mocha --inpect-brk=40000 --reporter spec  test/**/*.test.js \",\"test:browser\":\"npm run build; \",\"cover\":\"nyc npm run test && npm run cover:report\",\"cover:report\":\"nyc report --reporter=lcov --reporter=html\",\"webserver\":\"./node_modules/.bin/rec-la ./dist 9443\",\"gh-pages\":\"./scripts/upload.sh\",\"clear\":\"rm -r dist/ && npm run setup\"},\"contributors\":[{\"name\":\"Pierre-Mikael Legris\",\"email\":\"perki@pryv.com\"}],\"dependencies\":{\"superagent\":\"^5.2.2\"},\"devDependencies\":{\"@pryv/lib-js-common\":\"git+https://github.com/pryv/lib-js-common.git#1.0.2\",\"@pryv/monitor\":\"^1.0.2\",\"@pryv/socket.io\":\"^1.0.2\",\"chai\":\"^4.2.0\",\"chai-as-promised\":\"^7.1.1\",\"cuid\":\"^2.1.8\",\"jsdoc\":\"^3.6.6\",\"mocha\":\"^6.2.3\",\"node-fetch\":\"^2.6.0\",\"nyc\":\"^14.1.1\",\"rec-la\":\"latest\",\"universal-url\":\"^2.0.0\",\"zombie\":\"^6.1.4\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/pryv/package.json\n// module id = kGJU\n// module chunks = 1"],"sourceRoot":""}